!function(Q){var I={};function t(B){if(I[B])return I[B].exports;var g=I[B]={i:B,l:!1,exports:{}};return Q[B].call(g.exports,g,g.exports,t),g.l=!0,g.exports}t.m=Q,t.c=I,t.d=function(Q,I,B){t.o(Q,I)||Object.defineProperty(Q,I,{enumerable:!0,get:B})},t.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},t.t=function(Q,I){if(1&I&&(Q=t(Q)),8&I)return Q;if(4&I&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var B=Object.create(null);if(t.r(B),Object.defineProperty(B,"default",{enumerable:!0,value:Q}),2&I&&"string"!=typeof Q)for(var g in Q)t.d(B,g,function(I){return Q[I]}.bind(null,g));return B},t.n=function(Q){var I=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return t.d(I,"a",I),I},t.o=function(Q,I){return Object.prototype.hasOwnProperty.call(Q,I)},t.p="",t(t.s=4)}([function(module,exports){eval('/* -------------------------------------------------------------------------- */\n\n/*                              Helper functions                              */\n\n/* -------------------------------------------------------------------------- */\n\n/* ------------------------------- Loading bar ------------------------------ */\nfunction loadingBar(completed, total) {\n  const elem = document.getElementById("bar");\n  const elemText = document.getElementsByClassName("bar-percentage");\n  let width = completed / total * 100;\n\n  if (width >= 100) {\n    elem.style.width = Math.floor(width) + "%";\n    elemText[0].innerHTML = Math.floor(width) + "%";\n    elem.style.borderRadius = \'34px\'; // make bar into circle to fill the space\n\n    return;\n  } else {\n    elem.style.borderRadius = \'34px 0 0 34px\'; // have bar edges rounded and sharp\n\n    elem.style.width = Math.floor(width) + "%";\n    elemText[0].innerHTML = Math.floor(width) + "%";\n    width++;\n  }\n}\n/* ------------------------------ Elapsed time static ------------------------------ */\n// shows the elapsed time at the end of the algorithm, used when visualisations are off\n\n\nfunction elapsedTime(start, end) {\n  //get elapsed time from start to end\n  const elem = document.getElementById("elapsed-time");\n  let timeDiff = end - start; // get seconds \n\n  timeDiff /= 1000;\n  let seconds = Math.round(timeDiff); // get minutes\n\n  let minutes = 0;\n  minutes = Math.floor(seconds / 60); // reset seconds counter\n\n  if (seconds === 60) {\n    seconds = 0;\n  }\n\n  elem.value = `${minutes}m ${seconds}s`; // show the minutes and seconds\n}\n/* --------------------------- Elapsed time timer --------------------------- */\n// shows the current time of execution of the algorithm, used when visualisations are on\n// functions variables\n\n\nlet intervalId = null;\nlet totalTime = 0; // keeps the time so far\n\nlet diff = null; // diffrence between start and end times\n\nfunction timer() {\n  // count time\n  const elem = document.getElementById("elapsed-time");\n  let start = Date.now(); // start time\n\n  let minutes = Math.floor(totalTime / 60000);\n  let secondsSoFar = totalTime % 60000; // count loop with 1s interval (counts every second)\n\n  intervalId = setInterval(function () {\n    diff = secondsSoFar + Date.now() - start; // milliseconds elapsed since start\n\n    let seconds = Math.floor(diff / 1000); // in seconds\n\n    minutes += Math.floor(seconds / 60); // in minutes\n    // reset seconds counter\n\n    if (seconds >= 60) {\n      start = Date.now();\n      seconds = 0;\n      secondsSoFar = 0;\n    } // keep the time in case of a pause \n\n\n    totalTime = diff + minutes * 60000; // show the minutes and seconds\n\n    elem.value = `${minutes}m ${seconds}s`;\n  }, 1000);\n} // stop functionality\n\n\nfunction stopTimer(pause) {\n  // check if paused\n  if (pause !== \'pause\') totalTime = 0; // if not pause, resets the saved time\n\n  clearInterval(intervalId); // resets the count loop \n}\n/* -------------------------------------------------------------------------- */\n\n\nmodule.exports = {\n  loadingBar,\n  elapsedTime,\n  timer,\n  stopTimer\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaGVscGVycy9leHRyYXMuanM/Y2MyNSJdLCJuYW1lcyI6WyJsb2FkaW5nQmFyIiwiY29tcGxldGVkIiwidG90YWwiLCJlbGVtIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImVsZW1UZXh0IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsIndpZHRoIiwic3R5bGUiLCJNYXRoIiwiZmxvb3IiLCJpbm5lckhUTUwiLCJib3JkZXJSYWRpdXMiLCJlbGFwc2VkVGltZSIsInN0YXJ0IiwiZW5kIiwidGltZURpZmYiLCJzZWNvbmRzIiwicm91bmQiLCJtaW51dGVzIiwidmFsdWUiLCJpbnRlcnZhbElkIiwidG90YWxUaW1lIiwiZGlmZiIsInRpbWVyIiwiRGF0ZSIsIm5vdyIsInNlY29uZHNTb0ZhciIsInNldEludGVydmFsIiwic3RvcFRpbWVyIiwicGF1c2UiLCJjbGVhckludGVydmFsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBQ0E7O0FBQ0E7O0FBRUE7QUFFQSxTQUFTQSxVQUFULENBQW9CQyxTQUFwQixFQUErQkMsS0FBL0IsRUFBc0M7QUFDbEMsUUFBTUMsSUFBSSxHQUFHQyxRQUFRLENBQUNDLGNBQVQsQ0FBd0IsS0FBeEIsQ0FBYjtBQUNBLFFBQU1DLFFBQVEsR0FBR0YsUUFBUSxDQUFDRyxzQkFBVCxDQUFnQyxnQkFBaEMsQ0FBakI7QUFDQSxNQUFJQyxLQUFLLEdBQUlQLFNBQVMsR0FBR0MsS0FBYixHQUFzQixHQUFsQzs7QUFDQSxNQUFJTSxLQUFLLElBQUksR0FBYixFQUFrQjtBQUNkTCxRQUFJLENBQUNNLEtBQUwsQ0FBV0QsS0FBWCxHQUFtQkUsSUFBSSxDQUFDQyxLQUFMLENBQVdILEtBQVgsSUFBb0IsR0FBdkM7QUFDQUYsWUFBUSxDQUFDLENBQUQsQ0FBUixDQUFZTSxTQUFaLEdBQXdCRixJQUFJLENBQUNDLEtBQUwsQ0FBV0gsS0FBWCxJQUFvQixHQUE1QztBQUNBTCxR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LEVBQXVCUixTQUFTLEdBQUcsQ0FBWixDQUZELENBRWdCOztBQUN0Q1MsZUFBYSxDQUFDVixVQUFELENBQWIsQ0FIc0IsQ0FHSztBQUM5QjtBQUNEOzs7QUFFQVcsTUFBTSxDQUFDQyxPQUFQLEdBQWlCO0FBQ2JsQyxZQURhO0FBRWJjLGFBRmE7QUFHYlcsT0FIYTtBQUliSztBQUphLENBQWpCIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIZWxwZXIgZnVuY3Rpb25zICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gTG9hZGluZyBiYXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbmZ1bmN0aW9uIGxvYWRpbmdCYXIoY29tcGxldGVkLCB0b3RhbCkge1xuICAgIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJhclwiKTtcbiAgICBjb25zdCBlbGVtVGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJiYXItcGVyY2VudGFnZVwiKTtcbiAgICBsZXQgd2lkdGggPSAoY29tcGxldGVkIC8gdG90YWwpICogMTAwO1xuICAgIGlmICh3aWR0aCA+PSAxMDApIHtcbiAgICAgICAgZWxlbS5zdHlsZS53aWR0aCA9IE1hdGguZmxvb3Iod2lkdGgpICsgXCIlXCI7XG4gICAgICAgIGVsZW1UZXh0WzBdLmlubmVySFRNTCA9IE1hdGguZmxvb3Iod2lkdGgpICsgXCIlXCI7XG4gICAgICAgIGVsZW0uc3R5bGUuYm9yZGVyUmFkaXVzID0gJzM0cHgnIC8vIG1ha2UgYmFyIGludG8gY2lyY2xlIHRvIGZpbGwgdGhlIHNwYWNlXG4gICAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtLnN0eWxlLmJvcmRlclJhZGl1cyA9ICczNHB4IDAgMCAzNHB4JzsgLy8gaGF2ZSBiYXIgZWRnZXMgcm91bmRlZCBhbmQgc2hhcnBcbiAgICAgICAgZWxlbS5zdHlsZS53aWR0aCA9IE1hdGguZmxvb3Iod2lkdGgpICsgXCIlXCI7XG4gICAgICAgIGVsZW1UZXh0WzBdLmlubmVySFRNTCA9IE1hdGguZmxvb3Iod2lkdGgpICsgXCIlXCI7XG4gICAgICAgIHdpZHRoKys7XG4gICAgfVxufVxuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gRWxhcHNlZCB0aW1lIHN0YXRpYyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuLy8gc2hvd3MgdGhlIGVsYXBzZWQgdGltZSBhdCB0aGUgZW5kIG9mIHRoZSBhbGdvcml0aG0sIHVzZWQgd2hlbiB2aXN1YWxpc2F0aW9ucyBhcmUgb2ZmXG5cbmZ1bmN0aW9uIGVsYXBzZWRUaW1lKHN0YXJ0LCBlbmQpIHtcbiAgICAvL2dldCBlbGFwc2VkIHRpbWUgZnJvbSBzdGFydCB0byBlbmRcbiAgICBjb25zdCBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlbGFwc2VkLXRpbWVcIik7XG4gICAgbGV0IHRpbWVEaWZmID0gZW5kIC0gc3RhcnQ7XG5cbiAgICAvLyBnZXQgc2Vjb25kcyBcbiAgICB0aW1lRGlmZiAvPSAxMDAwO1xuICAgIGxldCBzZWNvbmRzID0gTWF0aC5yb3VuZCh0aW1lRGlmZik7XG5cbiAgICAvLyBnZXQgbWludXRlc1xuICAgIGxldCBtaW51dGVzID0gMDtcbiAgICBtaW51dGVzID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gNjApO1xuXG4gICAgLy8gcmVzZXQgc2Vjb25kcyBjb3VudGVyXG4gICAgaWYgKHNlY29uZHMgPT09IDYwKSB7XG4gICAgICAgIHNlY29uZHMgPSAwO1xuICAgIH1cblxuICAgIGVsZW0udmFsdWUgPSBgJHttaW51dGVzfW0gJHtzZWNvbmRzfXNgOyAvLyBzaG93IHRoZSBtaW51dGVzIGFuZCBzZWNvbmRzXG59XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBFbGFwc2VkIHRpbWUgdGltZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbi8vIHNob3dzIHRoZSBjdXJyZW50IHRpbWUgb2YgZXhlY3V0aW9uIG9mIHRoZSBhbGdvcml0aG0sIHVzZWQgd2hlbiB2aXN1YWxpc2F0aW9ucyBhcmUgb25cblxuLy8gZnVuY3Rpb25zIHZhcmlhYmxlc1xubGV0IGludGVydmFsSWQgPSBudWxsO1xubGV0IHRvdGFsVGltZSA9IDA7IC8vIGtlZXBzIHRoZSB0aW1lIHNvIGZhclxubGV0IGRpZmYgPSBudWxsOyAvLyBkaWZmcmVuY2UgYmV0d2VlbiBzdGFydCBhbmQgZW5kIHRpbWVzXG5cbmZ1bmN0aW9uIHRpbWVyKCkge1xuICAgIC8vIGNvdW50IHRpbWVcbiAgICBjb25zdCBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlbGFwc2VkLXRpbWVcIik7XG4gICAgbGV0IHN0YXJ0ID0gRGF0ZS5ub3coKTsgLy8gc3RhcnQgdGltZVxuICAgIGxldCBtaW51dGVzID0gTWF0aC5mbG9vcih0b3RhbFRpbWUgLyA2MDAwMCk7IFxuICAgIGxldCBzZWNvbmRzU29GYXIgPSB0b3RhbFRpbWUgJSA2MDAwMDtcblxuICAgIC8vIGNvdW50IGxvb3Agd2l0aCAxcyBpbnRlcnZhbCAoY291bnRzIGV2ZXJ5IHNlY29uZClcbiAgICBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgIGRpZmYgPSBzZWNvbmRzU29GYXIgKyBEYXRlLm5vdygpIC0gc3RhcnQ7IC8vIG1pbGxpc2Vjb25kcyBlbGFwc2VkIHNpbmNlIHN0YXJ0XG4gICAgICAgIGxldCBzZWNvbmRzID0gTWF0aC5mbG9vcihkaWZmIC8gMTAwMCk7IC8vIGluIHNlY29uZHNcbiAgICAgICAgbWludXRlcyArPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MCk7IC8vIGluIG1pbnV0ZXNcblxuICAgICAgICAvLyByZXNldCBzZWNvbmRzIGNvdW50ZXJcbiAgICAgICAgaWYgKHNlY29uZHMgPj0gNjApIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIHNlY29uZHMgPSAwO1xuICAgICAgICAgICAgc2Vjb25kc1NvRmFyID0gMDtcbiAgICAgICAgfVxuICAgICAgICAvLyBrZWVwIHRoZSB0aW1lIGluIGNhc2Ugb2YgYSBwYXVzZSBcbiAgICAgICAgdG90YWxUaW1lID0gZGlmZiArIChtaW51dGVzICogNjAwMDApO1xuXG4gICAgICAgIC8vIHNob3cgdGhlIG1pbnV0ZXMgYW5kIHNlY29uZHNcbiAgICAgICAgZWxlbS52YWx1ZSA9IGAke21pbnV0ZXN9bSAke3NlY29uZHN9c2A7XG4gICAgfSwgMTAwMCk7XG59XG5cbi8vIHN0b3AgZnVuY3Rpb25hbGl0eVxuZnVuY3Rpb24gc3RvcFRpbWVyKHBhdXNlKSB7XG4gICAgLy8gY2hlY2sgaWYgcGF1c2VkXG4gICAgaWYgKHBhdXNlICE9PSAncGF1c2UnKSB0b3RhbFRpbWUgPSAwOyAvLyBpZiBub3QgcGF1c2UsIHJlc2V0cyB0aGUgc2F2ZWQgdGltZVxuICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7IC8vIHJlc2V0cyB0aGUgY291bnQgbG9vcCBcbn1cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGxvYWRpbmdCYXIsXG4gICAgZWxhcHNlZFRpbWUsXG4gICAgdGltZXIsXG4gICAgc3RvcFRpbWVyXG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n')},function(module,exports){eval('var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function("return this")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === "object") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it\'s\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzP2NkMDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0Q0FBNEM7O0FBRTVDIiwiZmlsZSI6IjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return initGlobals; });\n/* -------------------------------------------------------------------------- */\n\n/*                            Global variables file                           */\n\n/* -------------------------------------------------------------------------- */\n// The following function returns all the global variables needed throughtout the script\nfunction initGlobals() {\n  /* ------------------------------ Events ----------------------------- */\n  // Set up events\n  const EventEmitter = __webpack_require__(5); // get the events library\n\n\n  const events = new EventEmitter(); // initialise the EventEmitter class\n\n  global.events = events; // used to call js events to better manage the stages of the program\n\n  /* ---------------------------- Matrices globals ---------------------------- */\n  //initialise global variables related to the matrices\n\n  global.imageIntensityArray1d = new Array();\n  global.imageIntensityArray = new Array();\n  global.pheromoneMatrix = new Array();\n  global.heuristicMatrix = new Array();\n  global.initialPheromoneValue = 0.0001;\n  /* ----------------------------- Canvas globals ----------------------------- */\n  // initialise canvases global variables\n\n  global.canvasWidth = 0;\n  global.canvasHeight = 0;\n  /* -------------------------- Visualisation states -------------------------- */\n  // get visualisation toggle status\n\n  global.toggleVisElem = document.getElementById('visualisation-toggle'); // select the toggle element\n\n  global.toggleVisLabel = document.querySelector('.visualisation-toggle_label'); // select the toggle label\n\n  toggleVisLabel.innerHTML = 'Visualisation on'; // set the initial label\n\n  global.visualisation = toggleVisElem.checked; // get initial toggle status (set in HTML)\n\n  toggleVisElem.addEventListener('click', e => {\n    visualisation = e.target.checked; // get the toggle status at change (turned on/off)\n\n    toggleVisLabel.innerHTML = `Visualisation ${visualisation ? 'on' : 'off'}`; // change toggle label\n\n    events.emit('visualisation-toggled', visualisation); // emit an event when the toggle is interacted with \n  });\n  /* ------------------------- Parameter fields values ------------------------ */\n\n  global.allUI = document.getElementsByClassName('ui-element'); //get all user input fields\n\n  global.autoFields = true; //check if user input values are changed by the user\n\n  global.currentParams = {}; // keeps all currently set user settings\n\n  /* ------------------------- Results Gallery global variables ------------------------- */\n\n  global.pages = []; // keeps record of all results\n\n  global.currentPage = 0; // keeps track of the currently viewed result\n\n  global.previousPage = -1; // last page viewed before the current one\n\n  global.savedParams = []; // keeps the used parameters for each result\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(1)))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaGVscGVycy9nbG9iYWxzLmpzPzIyZDQiXSwibmFtZXMiOlsiaW5pdEdsb2JhbHMiLCJFdmVudEVtaXR0ZXIiLCJyZXF1aXJlIiwiZXZlbnRzIiwiZ2xvYmFsIiwiaW1hZ2VJbnRlbnNpdHlBcnJheTFkIiwiQXJyYXkiLCJpbWFnZUludGVuc2l0eUFycmF5IiwicGhlcm9tb25lTWF0cml4IiwiaGV1cmlzdGljTWF0cml4IiwiaW5pdGlhbFBoZXJvbW9uZVZhbHVlIiwiY2FudmFzV2lkdGgiLCJjYW52YXNIZWlnaHQiLCJ0b2dnbGVWaXNFbGVtIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInRvZ2dsZVZpc0xhYmVsIiwicXVlcnlTZWxlY3RvciIsImlubmVySFRNTCIsInZpc3VhbGlzYXRpb24iLCJjaGVja2VkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJ0YXJnZXQiLCJlbWl0IiwiYWxsVUkiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiYXV0b0ZpZWxkcyIsImN1cnJlbnRQYXJhbXMiLCJwYWdlcyIsImN1cnJlbnRQYWdlIiwicHJldmlvdXNQYWdlIiwic2F2ZWRQYXJhbXMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7O0FBQ0E7O0FBQ0E7QUFFQTtBQUNlLFNBQVNBLFdBQVQsR0FBdUI7QUFFdEM7QUFDSTtBQUNBLFFBQU1DLFlBQVksR0FBR0MsbUJBQU8sQ0FBQyxDQUFELENBQTVCLENBSmtDLENBSU07OztBQUN4QyxRQUFNQyxNQUFNLEdBQUcsSUFBSUYsWUFBSixFQUFmLENBTGtDLENBS0M7O0FBRW5DRyxRQUFNLENBQUNELE1BQVAsR0FBZ0JBLE1BQWhCLENBUGtDLENBT1Y7O0FBRTVCO0FBRUk7O0FBQ0FDLFFBQU0sQ0FBQ0MscUJBQVAsR0FBK0IsSUFBSUMsS0FBSixFQUEvQjtBQUNBRixRQUFNLENBQUNHLG1CQUFQLEdBQTZCLElBQUlELEtBQUosRUFBN0I7QUFDQUYsUUFBTSxDQUFDSSxlQUFQLEdBQXlCLElBQUlGLEtBQUosRUFBekI7QUFDQUYsUUFBTSxDQUFDSyxlQUFQLEdBQXlCLElBQUlILEtBQUosRUFBekI7QUFDQUYsUUFBTSxDQUFDTSxxQkFBUCxHQUErQixNQUEvQjtBQUVKO0FBQ0k7O0FBQ0FOLFFBQU0sQ0FBQ08sV0FBUCxHQUFxQixDQUFyQjtBQUNBUCxRQUFNLENBQUNRLFlBQVAsR0FBc0IsQ0FBdEI7QUFFSjtBQUVJOztBQUNBUixRQUFNLENBQUNTLGFBQVAsR0FBdUJDLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixzQkFBeEIsQ0FBdkIsQ0ExQmtDLENBMEJzQzs7QUFDeEVYLFFBQU0sQ0FBQ1ksY0FBUCxHQUF3QkYsUUFBUSxDQUFDRyxhQUFULENBQXVCLDZCQUF2QixDQUF4QixDQTNCa0MsQ0EyQjZDOztBQUMvRUQsZ0JBQWMsQ0FBQ0UsU0FBZixHQUEyQixrQkFBM0IsQ0E1QmtDLENBNEJhOztBQUMvQ2QsUUFBTSxDQUFDZSxhQUFQLEdBQXVCTixhQUFhLENBQUNPLE9BQXJDLENBN0JrQyxDQTZCWTs7QUFFOUNQLGVBQWEsQ0FBQ1EsZ0JBQWQsQ0FBK0IsT0FBL0IsRUFBeUNDLENBQUQsSUFBTztBQUMzQ0gsaUJBQWEsR0FBR0csQ0FBQyxDQUFDQyxNQUFGLENBQVNILE9BQXpCLENBRDJDLENBQ1Q7O0FBQ2xDSixrQkFBYyxDQUFDRSxTQUFmLEdBQTRCLGlCQUFpQkMsYUFBRCxHQUFrQixJQUFsQixHQUF3QixLQUFNLEVBQTFFLENBRjJDLENBRWlDOztBQUM1RWhCLFVBQU0sQ0FBQ3FCLElBQVAsQ0FBWSx1QkFBWixFQUFxQ0wsYUFBckMsRUFIMkMsQ0FHVTtBQUN4RCxHQUpEO0FBTUo7O0FBRUlmLFFBQU0sQ0FBQ3FCLEtBQVAsR0FBZVgsUUFBUSxDQUFDWSxzQkFBVCxDQUFnQyxZQUFoQyxDQUFmLENBdkNrQyxDQXVDNEI7O0FBQzlEdEIsUUFBTSxDQUFDdUIsVUFBUCxHQUFvQixJQUFwQixDQXhDa0MsQ0F3Q1I7O0FBQzFCdkIsUUFBTSxDQUFDd0IsYUFBUCxHQUF1QixFQUF2QixDQXpDa0MsQ0F5Q1A7O0FBRS9COztBQUVJeEIsUUFBTSxDQUFDeUIsS0FBUCxHQUFlLEVBQWYsQ0E3Q2tDLENBNkNmOztBQUNuQnpCLFFBQU0sQ0FBQzBCLFdBQVAsR0FBcUIsQ0FBckIsQ0E5Q2tDLENBOENWOztBQUN4QjFCLFFBQU0sQ0FBQzJCLFlBQVAsR0FBc0IsQ0FBQyxDQUF2QixDQS9Da0MsQ0ErQ1I7O0FBQzFCM0IsUUFBTSxDQUFDNEIsV0FBUCxHQUFxQixFQUFyQixDQWhEa0MsQ0FnRFQ7QUFDNUIsQyIsImZpbGUiOiIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdsb2JhbCB2YXJpYWJsZXMgZmlsZSAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4vLyBUaGUgZm9sbG93aW5nIGZ1bmN0aW9uIHJldHVybnMgYWxsIHRoZSBnbG9iYWwgdmFyaWFibGVzIG5lZWRlZCB0aHJvdWdodG91dCB0aGUgc2NyaXB0XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbml0R2xvYmFscygpIHtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEV2ZW50cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuICAgIC8vIFNldCB1cCBldmVudHNcbiAgICBjb25zdCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCdldmVudHMnKTsgLy8gZ2V0IHRoZSBldmVudHMgbGlicmFyeVxuICAgIGNvbnN0IGV2ZW50cyA9IG5ldyBFdmVudEVtaXR0ZXIoKTsgLy8gaW5pdGlhbGlzZSB0aGUgRXZlbnRFbWl0dGVyIGNsYXNzXG5cbiAgICBnbG9iYWwuZXZlbnRzID0gZXZlbnRzOyAvLyB1c2VkIHRvIGNhbGwganMgZXZlbnRzIHRvIGJldHRlciBtYW5hZ2UgdGhlIHN0YWdlcyBvZiB0aGUgcHJvZ3JhbVxuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIE1hdHJpY2VzIGdsb2JhbHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gICAgLy9pbml0aWFsaXNlIGdsb2JhbCB2YXJpYWJsZXMgcmVsYXRlZCB0byB0aGUgbWF0cmljZXNcbiAgICBnbG9iYWwuaW1hZ2VJbnRlbnNpdHlBcnJheTFkID0gbmV3IEFycmF5KCk7XG4gICAgZ2xvYmFsLmltYWdlSW50ZW5zaXR5QXJyYXkgPSBuZXcgQXJyYXkoKTtcbiAgICBnbG9iYWwucGhlcm9tb25lTWF0cml4ID0gbmV3IEFycmF5KCk7XG4gICAgZ2xvYmFsLmhldXJpc3RpY01hdHJpeCA9IG5ldyBBcnJheSgpO1xuICAgIGdsb2JhbC5pbml0aWFsUGhlcm9tb25lVmFsdWUgPSAwLjAwMDE7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIENhbnZhcyBnbG9iYWxzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4gICAgLy8gaW5pdGlhbGlzZSBjYW52YXNlcyBnbG9iYWwgdmFyaWFibGVzXG4gICAgZ2xvYmFsLmNhbnZhc1dpZHRoID0gMDtcbiAgICBnbG9iYWwuY2FudmFzSGVpZ2h0ID0gMDtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gVmlzdWFsaXNhdGlvbiBzdGF0ZXMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAgIC8vIGdldCB2aXN1YWxpc2F0aW9uIHRvZ2dsZSBzdGF0dXNcbiAgICBnbG9iYWwudG9nZ2xlVmlzRWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2aXN1YWxpc2F0aW9uLXRvZ2dsZScpOyAvLyBzZWxlY3QgdGhlIHRvZ2dsZSBlbGVtZW50XG4gICAgZ2xvYmFsLnRvZ2dsZVZpc0xhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZpc3VhbGlzYXRpb24tdG9nZ2xlX2xhYmVsJyk7IC8vIHNlbGVjdCB0aGUgdG9nZ2xlIGxhYmVsXG4gICAgdG9nZ2xlVmlzTGFiZWwuaW5uZXJIVE1MID0gJ1Zpc3VhbGlzYXRpb24gb24nOyAvLyBzZXQgdGhlIGluaXRpYWwgbGFiZWxcbiAgICBnbG9iYWwudmlzdWFsaXNhdGlvbiA9IHRvZ2dsZVZpc0VsZW0uY2hlY2tlZDsgLy8gZ2V0IGluaXRpYWwgdG9nZ2xlIHN0YXR1cyAoc2V0IGluIEhUTUwpXG5cbiAgICB0b2dnbGVWaXNFbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgdmlzdWFsaXNhdGlvbiA9IGUudGFyZ2V0LmNoZWNrZWQ7IC8vIGdldCB0aGUgdG9nZ2xlIHN0YXR1cyBhdCBjaGFuZ2UgKHR1cm5lZCBvbi9vZmYpXG4gICAgICAgIHRvZ2dsZVZpc0xhYmVsLmlubmVySFRNTCA9IGBWaXN1YWxpc2F0aW9uICR7KHZpc3VhbGlzYXRpb24pID8gJ29uJzogJ29mZid9YCAvLyBjaGFuZ2UgdG9nZ2xlIGxhYmVsXG4gICAgICAgIGV2ZW50cy5lbWl0KCd2aXN1YWxpc2F0aW9uLXRvZ2dsZWQnLCB2aXN1YWxpc2F0aW9uKTsgLy8gZW1pdCBhbiBldmVudCB3aGVuIHRoZSB0b2dnbGUgaXMgaW50ZXJhY3RlZCB3aXRoIFxuICAgIH0pO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFBhcmFtZXRlciBmaWVsZHMgdmFsdWVzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gICAgZ2xvYmFsLmFsbFVJID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndWktZWxlbWVudCcpOyAvL2dldCBhbGwgdXNlciBpbnB1dCBmaWVsZHNcbiAgICBnbG9iYWwuYXV0b0ZpZWxkcyA9IHRydWU7IC8vY2hlY2sgaWYgdXNlciBpbnB1dCB2YWx1ZXMgYXJlIGNoYW5nZWQgYnkgdGhlIHVzZXJcbiAgICBnbG9iYWwuY3VycmVudFBhcmFtcyA9IHt9OyAvLyBrZWVwcyBhbGwgY3VycmVudGx5IHNldCB1c2VyIHNldHRpbmdzXG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gUmVzdWx0cyBHYWxsZXJ5IGdsb2JhbCB2YXJpYWJsZXMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4gICAgZ2xvYmFsLnBhZ2VzID0gW107IC8vIGtlZXBzIHJlY29yZCBvZiBhbGwgcmVzdWx0c1xuICAgIGdsb2JhbC5jdXJyZW50UGFnZSA9IDA7IC8vIGtlZXBzIHRyYWNrIG9mIHRoZSBjdXJyZW50bHkgdmlld2VkIHJlc3VsdFxuICAgIGdsb2JhbC5wcmV2aW91c1BhZ2UgPSAtMTsgLy8gbGFzdCBwYWdlIHZpZXdlZCBiZWZvcmUgdGhlIGN1cnJlbnQgb25lXG4gICAgZ2xvYmFsLnNhdmVkUGFyYW1zID0gW107IC8vIGtlZXBzIHRoZSB1c2VkIHBhcmFtZXRlcnMgZm9yIGVhY2ggcmVzdWx0XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EnvironmentImage; });\n/* -------------------------------------------------------------------------- */\n\n/*                       Image Environment data gatherer class                */\n\n/* -------------------------------------------------------------------------- */\nclass EnvironmentImage {\n  constructor(image, canvas) {\n    this.pixelArray = this.getPixelArray(image, canvas); // set image environment\n\n    this.width = image.width;\n    this.height = image.height;\n    this.pixelAmount = Math.abs(this.width * this.height); // get the pixel count in the given image\n\n    imageIntensityArray1d = this.getIntensityArray(); // get intensity data\n\n    imageIntensityArray = this.convertTo2dMatrix(imageIntensityArray1d); // transform intensity data from array into a matrix\n  }\n\n  convertTo2dMatrix(array) {\n    const array2d = new Array(2);\n    let a = 0;\n\n    for (let y = 0; y < canvasHeight; y++) {\n      array2d[y] = [];\n\n      for (let x = 0; x < canvasWidth; x++) {\n        array2d[y][x] = array[a];\n        a++;\n      }\n    }\n\n    return array2d;\n  }\n\n  getIntensityArray() {\n    // Get intensity data for every pixel by combining the 3 colour and 1 alpha channel values together\n    const intensityArray = [];\n\n    for (let i = 0; i <= this.pixelArray.length - 1; i++) {\n      if (i <= this.pixelArray.length - 2) {\n        const sum = this.pixelArray[i] + this.pixelArray[i + 1] + this.pixelArray[i + 2] + this.pixelArray[i + 3];\n        i += 3;\n        intensityArray.push(sum);\n      }\n    }\n\n    ;\n    return intensityArray;\n  }\n\n  getPixelArray(image, canvas) {\n    //get image pixel data \n    const ctx = canvas.getContext(\'2d\');\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    drawImageProp(ctx, image, 0, 0, canvas.width, canvas.height);\n    global.imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    fadeImage();\n    return imgData.data;\n\n    function fadeImage() {\n      // fade image in the background \n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      ctx.save();\n      ctx.globalAlpha = 0.5;\n      drawImageProp(ctx, image, 0, 0, canvas.width, canvas.height);\n      ctx.restore();\n    }\n\n    function drawImageProp(ctx, img, x, y, w, h, offsetX, offsetY) {\n      // Resize image to fit in the canvas\n      if (arguments.length === 2) {\n        x = y = 0;\n        w = ctx.canvas.width;\n        h = ctx.canvas.height;\n      } // default offset is center\n\n\n      offsetX = typeof offsetX === "number" ? offsetX : 0.5;\n      offsetY = typeof offsetY === "number" ? offsetY : 0.5; // keep bounds [0.0, 1.0]\n\n      if (offsetX < 0) offsetX = 0;\n      if (offsetY < 0) offsetY = 0;\n      if (offsetX > 1) offsetX = 1;\n      if (offsetY > 1) offsetY = 1;\n      const iw = img.width,\n            ih = img.height,\n            r = Math.min(w / iw, h / ih);\n      let nw = iw * r,\n          // new prop. width\n      nh = ih * r,\n          // new prop. height\n      cx,\n          cy,\n          cw,\n          ch,\n          ar = 1; // decide which gap to fill    \n\n      if (nw < w) ar = w / nw;\n      if (Math.abs(ar - 1) < 1e-14 && nh < h) ar = h / nh; // updated\n\n      nw *= ar;\n      nh *= ar; // calc source rectangle\n\n      cw = iw / (nw / w);\n      ch = ih / (nh / h);\n      cx = (iw - cw) * offsetX;\n      cy = (ih - ch) * offsetY; // make sure source rectangle is valid\n\n      if (cx < 0) cx = 0;\n      if (cy < 0) cy = 0;\n      if (cw > iw) cw = iw;\n      if (ch > ih) ch = ih; // fill image in dest. rectangle\n\n      ctx.drawImage(img, cx, cy, cw, ch, x, y, w, h);\n    }\n  }\n\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(1)))\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9lbnZpcm9ubWVudC1pbWFnZS9lbnZpcm9ubWVudC1pbWFnZS5qcz9hZjg2Il0sIm5hbWVzIjpbIkVudmlyb25tZW50SW1hZ2UiLCJjb25zdHJ1Y3RvciIsImltYWdlIiwiY2FudmFzIiwicGl4ZWxBcnJheSIsImdldFBpeGVsQXJyYXkiLCJ3aWR0aCIsImhlaWdodCIsInBpeGVsQW1vdW50IiwiTWF0aCIsImFicyIsImltYWdlSW50ZW5zaXR5QXJyYXkxZCIsImdldEludGVuc2l0eUFycmF5IiwiaW1hZ2VJbnRlbnNpdHlBcnJheSIsImNvbnZlcnRUbzJkTWF0cml4IiwiYXJyYXkiLCJhcnJheTJkIiwiQXJyYXkiLCJhIiwieSIsImNhbnZhc0hlaWdodCIsIngiLCJjYW52YXNXaWR0aCIsImludGVuc2l0eUFycmF5IiwiaSIsImxlbmd0aCIsInN1bSIsInB1c2giLCJjdHgiLCJnZXRDb250ZXh0IiwiY2xlYXJSZWN0IiwiZHJhd0ltYWdlUHJvcCIsImdsb2JhbCIsImltZ0RhdGEiLCJnZXRJbWFnZURhdGEiLCJmYWRlSW1hZ2UiLCJkYXRhIiwic2F2ZSIsImdsb2JhbEFscGhhIiwicmVzdG9yZSIsImltZyIsInciLCJoIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJhcmd1bWVudHMiLCJpdyIsImloIiwiciIsIm1pbiIsIm53IiwibmgiLCJjeCIsImN5IiwiY3ciLCJjaCIsImFyIiwiZHJhd0ltYWdlIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBOztBQUNBOztBQUNBO0FBRWUsTUFBTUEsZ0JBQU4sQ0FBdUI7QUFDbENDLGFBQVcsQ0FBQ0MsS0FBRCxFQUFRQyxNQUFSLEVBQWdCO0FBQ3ZCLFNBQUtDLFVBQUwsR0FBa0IsS0FBS0MsYUFBTCxDQUFtQkgsS0FBbkIsRUFBMEJDLE1BQTFCLENBQWxCLENBRHVCLENBQzhCOztBQUNyRCxTQUFLRyxLQUFMLEdBQWFKLEtBQUssQ0FBQ0ksS0FBbkI7QUFDQSxTQUFLQyxN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YixVQUFJUyxFQUFFLEdBQUdSLEVBQVQsRUFBYVEsRUFBRSxHQUFHUixFQUFMLENBM0M4QyxDQTZDM0Q7O0FBQ0FuQixTQUFHLENBQUM2QixTQUFKLENBQWNqQixHQUFkLEVBQW1CWSxFQUFuQixFQUF1QkMsRUFBdkIsRUFBMkJDLEVBQTNCLEVBQStCQyxFQUEvQixFQUFtQ2xDLENBQW5DLEVBQXNDRixDQUF0QyxFQUF5Q3NCLENBQXpDLEVBQTRDQyxDQUE1QztBQUNIO0FBQ0o7O0FBeEdpQyxDIiwiZmlsZSI6IjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuLyogICAgICAgICAgICAgICAgICAgICAgIEltYWdlIEVudmlyb25tZW50IGRhdGEgZ2F0aGVyZXIgY2xhc3MgICAgICAgICAgICAgICAgKi9cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVudmlyb25tZW50SW1hZ2Uge1xuICAgIGNvbnN0cnVjdG9yKGltYWdlLCBjYW52YXMpIHtcbiAgICAgICAgdGhpcy5waXhlbEFycmF5ID0gdGhpcy5nZXRQaXhlbEFycmF5KGltYWdlLCBjYW52YXMpOyAvLyBzZXQgaW1hZ2UgZW52aXJvbm1lbnRcbiAgICAgICAgdGhpcy53aWR0aCA9IGltYWdlLndpZHRoOyBcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XG4gICAgICAgIHRoaXMucGl4ZWxBbW91bnQgPSBNYXRoLmFicyh0aGlzLndpZHRoICogdGhpcy5oZWlnaHQpOyAvLyBnZXQgdGhlIHBpeGVsIGNvdW50IGluIHRoZSBnaXZlbiBpbWFnZVxuICAgICAgICBpbWFnZUludGVuc2l0eUFycmF5MWQgPSB0aGlzLmdldEludGVuc2l0eUFycmF5KCk7IC8vIGdldCBpbnRlbnNpdHkgZGF0YVxuICAgICAgICBpbWFnZUludGVuc2l0eUFycmF5ID0gdGhpcy5jb252ZXJ0VG8yZE1hdHJpeChpbWFnZUludGVuc2l0eUFycmF5MWQpOyAvLyB0cmFuc2Zvcm0gaW50ZW5zaXR5IGRhdGEgZnJvbSBhcnJheSBpbnRvIGEgbWF0cml4XG4gICAgfVxuXG4gICAgY29udmVydFRvMmRNYXRyaXgoYXJyYXkpIHtcbiAgICAgICAgY29uc3QgYXJyYXkyZCA9IG5ldyBBcnJheSgyKTtcblxuICAgICAgICBsZXQgYSA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCBjYW52YXNIZWlnaHQ7IHkrKykge1xuICAgICAgICAgICAgYXJyYXkyZFt5XSA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCBjYW52YXNXaWR0aDsgeCsrKSB7XG4gICAgICAgICAgICAgICAgYXJyYXkyZFt5XVt4XSA9IGFycmF5W2FdO1xuICAgICAgICAgICAgICAgIGErK1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTJkO1xuICAgIH1cblxuICAgIGdldEludGVuc2l0eUFycmF5KCkge1xuICAgICAgICAvLyBHZXQgaW50ZW5zaXR5IGRhdGEgZm9yIGV2ZXJ5IHBpeGVsIGJ5IGNvbWJpbmluZyB0aGUgMyBjb2xvdXIgYW5kIDEgYWxwaGEgY2hhbm5lbCB2YWx1ZXMgdG9nZXRoZXJcbiAgICAgICAgY29uc3QgaW50ZW5zaXR5QXJyYXkgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gdGhpcy5waXhlbEFycmF5Lmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPD0gdGhpcy5waXhlbEFycmF5Lmxlbmd0aCAtIDIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdW0gPSB0aGlzLnBpeGVsQXJyYXlbaV0gKyB0aGlzLnBpeGVsQXJyYXlbaSArIDFdICsgdGhpcy5waXhlbEFycmF5W2kgKyAyXSArIHRoaXMucGl4ZWxBcnJheVtpICsgM107XG4gICAgICAgICAgICAgICAgaSArPSAzO1xuICAgICAgICAgICAgICAgIGludGVuc2l0eUFycmF5LnB1c2goc3VtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGludGVuc2l0eUFycmF5O1xuICAgIH1cblxuICAgIGdldFBpeGVsQXJyYXkoaW1hZ2UsIGNhbnZhcykge1xuICAgICAgICAvL2dldCBpbWFnZSBwaXhlbCBkYXRhIFxuICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBkcmF3SW1hZ2VQcm9wKGN0eCwgaW1hZ2UsIDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgIGdsb2JhbC5pbWdEYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICBmYWRlSW1hZ2UoKTtcbiAgICAgICAgcmV0dXJuIGltZ0RhdGEuZGF0YTtcblxuICAgICAgICBmdW5jdGlvbiBmYWRlSW1hZ2UoKSB7XG4gICAgICAgICAgICAvLyBmYWRlIGltYWdlIGluIHRoZSBiYWNrZ3JvdW5kIFxuICAgICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDAuNTtcbiAgICAgICAgICAgIGRyYXdJbWFnZVByb3AoY3R4LCBpbWFnZSwgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBkcmF3SW1hZ2VQcm9wKGN0eCwgaW1nLCB4LCB5LCB3LCBoLCBvZmZzZXRYLCBvZmZzZXRZKSB7XG4gICAgICAgICAgICAvLyBSZXNpemUgaW1hZ2UgdG8gZml0IGluIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgeCA9IHkgPSAwO1xuICAgICAgICAgICAgICAgIHcgPSBjdHguY2FudmFzLndpZHRoO1xuICAgICAgICAgICAgICAgIGggPSBjdHguY2FudmFzLmhlaWdodDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZGVmYXVsdCBvZmZzZXQgaXMgY2VudGVyXG4gICAgICAgICAgICBvZmZzZXRYID0gdHlwZW9mIG9mZnNldFggPT09IFwibnVtYmVyXCIgPyBvZmZzZXRYIDogMC41O1xuICAgICAgICAgICAgb2Zmc2V0WSA9IHR5cGVvZiBvZmZzZXRZID09PSBcIm51bWJlclwiID8gb2Zmc2V0WSA6IDAuNTtcblxuICAgICAgICAgICAgLy8ga2VlcCBib3VuZHMgWzAuMCwgMS4wXVxuICAgICAgICAgICAgaWYgKG9mZnNldFggPCAwKSBvZmZzZXRYID0gMDtcbiAgICAgICAgICAgIGlmIChvZmZzZXRZIDwgMCkgb2Zmc2V0WSA9IDA7XG4gICAgICAgICAgICBpZiAob2Zmc2V0WCA+IDEpIG9mZnNldFggPSAxO1xuICAgICAgICAgICAgaWYgKG9mZnNldFkgPiAxKSBvZmZzZXRZID0gMTtcblxuICAgICAgICAgICAgY29uc3QgaXcgPSBpbWcud2lkdGgsXG4gICAgICAgICAgICAgICAgaWggPSBpbWcuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHIgPSBNYXRoLm1pbih3IC8gaXcsIGggLyBpaClcblxuICAgICAgICAgICAgbGV0IG53ID0gaXcgKiByLCAvLyBuZXcgcHJvcC4gd2lkdGhcbiAgICAgICAgICAgICAgICBuaCA9IGloICogciwgLy8gbmV3IHByb3AuIGhlaWdodFxuICAgICAgICAgICAgICAgIGN4LCBjeSwgY3csIGNoLCBhciA9IDE7XG5cbiAgICAgICAgICAgIC8vIGRlY2lkZSB3aGljaCBnYXAgdG8gZmlsbCAgICBcbiAgICAgICAgICAgIGlmIChudyA8IHcpIGFyID0gdyAvIG53O1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGFyIC0gMSkgPCAxZS0xNCAmJiBuaCA8IGgpIGFyID0gaCAvIG5oOyAvLyB1cGRhdGVkXG4gICAgICAgICAgICBudyAqPSBhcjtcbiAgICAgICAgICAgIG5oICo9IGFyO1xuXG4gICAgICAgICAgICAvLyBjYWxjIHNvdXJjZSByZWN0YW5nbGVcbiAgICAgICAgICAgIGN3ID0gaXcgLyAobncgLyB3KTtcbiAgICAgICAgICAgIGNoID0gaWggLyAobmggLyBoKTtcblxuICAgICAgICAgICAgY3ggPSAoaXcgLSBjdykgKiBvZmZzZXRYO1xuICAgICAgICAgICAgY3kgPSAoaWggLSBjaCkgKiBvZmZzZXRZO1xuXG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgc291cmNlIHJlY3RhbmdsZSBpcyB2YWxpZFxuICAgICAgICAgICAgaWYgKGN4IDwgMCkgY3ggPSAwO1xuICAgICAgICAgICAgaWYgKGN5IDwgMCkgY3kgPSAwO1xuICAgICAgICAgICAgaWYgKGN3ID4gaXcpIGN3ID0gaXc7XG4gICAgICAgICAgICBpZiAoY2ggPiBpaCkgY2ggPSBpaDtcblxuICAgICAgICAgICAgLy8gZmlsbCBpbWFnZSBpbiBkZXN0LiByZWN0YW5nbGVcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCBjeCwgY3ksIGN3LCBjaCwgeCwgeSwgdywgaCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n')},function(Q,I,t){t(7),Q.exports=t(6)},function(module,exports,__webpack_require__){"use strict";eval("// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = $getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  var args = [];\n  for (var i = 0; i < arguments.length; i++) args.push(arguments[i]);\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    ReflectApply(this.listener, this.target, args);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcz9mYWExIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixzQkFBc0I7QUFDdkM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsbUJBQW1CLFNBQVM7QUFDNUI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLHNCQUFzQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUEsaUNBQWlDLFFBQVE7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixpQkFBaUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxzQ0FBc0MsUUFBUTtBQUM5QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLE9BQU87QUFDeEI7QUFDQTtBQUNBOztBQUVBO0FBQ0EsUUFBUSx5QkFBeUI7QUFDakM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsZ0JBQWdCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUiA9IHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyA/IFJlZmxlY3QgOiBudWxsXG52YXIgUmVmbGVjdEFwcGx5ID0gUiAmJiB0eXBlb2YgUi5hcHBseSA9PT0gJ2Z1bmN0aW9uJ1xuICA/IFIuYXBwbHlcbiAgOiBmdW5jdGlvbiBSZWZsZWN0QXBwbHkodGFyZ2V0LCByZWNlaXZlciwgYXJncykge1xuICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKTtcbiAgfVxuXG52YXIgUmVmbGVjdE93bktleXNcbmlmIChSICYmIHR5cGVvZiBSLm93bktleXMgPT09ICdmdW5jdGlvbicpIHtcbiAgUmVmbGVjdE93bktleXMgPSBSLm93bktleXNcbn0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpXG4gICAgICAuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KSk7XG4gIH07XG59IGVsc2Uge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBQcm9jZXNzRW1pdFdhcm5pbmcod2FybmluZykge1xuICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbn1cblxudmFyIE51bWJlcklzTmFOID0gTnVtYmVyLmlzTmFOIHx8IGZ1bmN0aW9uIE51bWJlcklzTmFOKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgRXZlbnRFbWl0dGVyLmluaXQuY2FsbCh0aGlzKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50c0NvdW50ID0gMDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxudmFyIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50RW1pdHRlciwgJ2RlZmF1bHRNYXhMaXN0ZW5lcnMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24oYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09ICdudW1iZXInIHx8IGFyZyA8IDAgfHwgTnVtYmVySXNOYU4oYXJnKSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgYXJnICsgJy4nKTtcbiAgICB9XG4gICAgZGVmYXVsdE1heExpc3RlbmVycyA9IGFyZztcbiAgfVxufSk7XG5cbkV2ZW50RW1pdHRlci5pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKHRoaXMuX2V2ZW50cyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB0aGlzLl9ldmVudHMgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzKSB7XG4gICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufTtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gc2V0TWF4TGlzdGVuZXJzKG4pIHtcbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCBuIDwgMCB8fCBOdW1iZXJJc05hTihuKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIG4gKyAnLicpO1xuICB9XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gJGdldE1heExpc3RlbmVycyh0aGF0KSB7XG4gIGlmICh0aGF0Ll9tYXhMaXN0ZW5lcnMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIHJldHVybiB0aGF0Ll9tYXhMaXN0ZW5lcnM7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TWF4TGlzdGVuZXJzKCkge1xuICByZXR1cm4gJGdldE1heExpc3RlbmVycyh0aGlzKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQodHlwZSkge1xuICB2YXIgYXJncyA9IFtdO1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gIHZhciBkb0Vycm9yID0gKHR5cGUgPT09ICdlcnJvcicpO1xuXG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZClcbiAgICBkb0Vycm9yID0gKGRvRXJyb3IgJiYgZXZlbnRzLmVycm9yID09PSB1bmRlZmluZWQpO1xuICBlbHNlIGlmICghZG9FcnJvcilcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAoZG9FcnJvcikge1xuICAgIHZhciBlcjtcbiAgICBpZiAoYXJncy5sZW5ndGggPiAwKVxuICAgICAgZXIgPSBhcmdzWzBdO1xuICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAvLyBOb3RlOiBUaGUgY29tbWVudHMgb24gdGhlIGB0aHJvd2AgbGluZXMgYXJlIGludGVudGlvbmFsLCB0aGV5IHNob3dcbiAgICAgIC8vIHVwIGluIE5vZGUncyBvdXRwdXQgaWYgdGhpcyByZXN1bHRzIGluIGFuIHVuaGFuZGxlZCBleGNlcHRpb24uXG4gICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICB9XG4gICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuaGFuZGxlZCBlcnJvci4nICsgKGVyID8gJyAoJyArIGVyLm1lc3NhZ2UgKyAnKScgOiAnJykpO1xuICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgdGhyb3cgZXJyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICB9XG5cbiAgdmFyIGhhbmRsZXIgPSBldmVudHNbdHlwZV07XG5cbiAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgUmVmbGVjdEFwcGx5KGhhbmRsZXIsIHRoaXMsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBSZWZsZWN0QXBwbHkobGlzdGVuZXJzW2ldLCB0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gX2FkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHByZXBlbmQpIHtcbiAgdmFyIG07XG4gIHZhciBldmVudHM7XG4gIHZhciBleGlzdGluZztcblxuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7XG4gIH1cblxuICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRhcmdldC5fZXZlbnRzQ291bnQgPSAwO1xuICB9IGVsc2Uge1xuICAgIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gICAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICAgIGlmIChldmVudHMubmV3TGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGFyZ2V0LmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyID8gbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgICAgIC8vIFJlLWFzc2lnbiBgZXZlbnRzYCBiZWNhdXNlIGEgbmV3TGlzdGVuZXIgaGFuZGxlciBjb3VsZCBoYXZlIGNhdXNlZCB0aGVcbiAgICAgIC8vIHRoaXMuX2V2ZW50cyB0byBiZSBhc3NpZ25lZCB0byBhIG5ldyBvYmplY3RcbiAgICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICAgIH1cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXTtcbiAgfVxuXG4gIGlmIChleGlzdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgICArK3RhcmdldC5fZXZlbnRzQ291bnQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9XG4gICAgICAgIHByZXBlbmQgPyBbbGlzdGVuZXIsIGV4aXN0aW5nXSA6IFtleGlzdGluZywgbGlzdGVuZXJdO1xuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIH0gZWxzZSBpZiAocHJlcGVuZCkge1xuICAgICAgZXhpc3RpbmcudW5zaGlmdChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4aXN0aW5nLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gICAgbSA9ICRnZXRNYXhMaXN0ZW5lcnModGFyZ2V0KTtcbiAgICBpZiAobSA+IDAgJiYgZXhpc3RpbmcubGVuZ3RoID4gbSAmJiAhZXhpc3Rpbmcud2FybmVkKSB7XG4gICAgICBleGlzdGluZy53YXJuZWQgPSB0cnVlO1xuICAgICAgLy8gTm8gZXJyb3IgY29kZSBmb3IgdGhpcyBzaW5jZSBpdCBpcyBhIFdhcm5pbmdcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgdmFyIHcgPSBuZXcgRXJyb3IoJ1Bvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLmxlbmd0aCArICcgJyArIFN0cmluZyh0eXBlKSArICcgbGlzdGVuZXJzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5jcmVhc2UgbGltaXQnKTtcbiAgICAgIHcubmFtZSA9ICdNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmcnO1xuICAgICAgdy5lbWl0dGVyID0gdGFyZ2V0O1xuICAgICAgdy50eXBlID0gdHlwZTtcbiAgICAgIHcuY291bnQgPSBleGlzdGluZy5sZW5ndGg7XG4gICAgICBQcm9jZXNzRW1pdFdhcm5pbmcodyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCB0cnVlKTtcbiAgICB9O1xuXG5mdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgdmFyIGFyZ3MgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICBpZiAoIXRoaXMuZmlyZWQpIHtcbiAgICB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsIHRoaXMud3JhcEZuKTtcbiAgICB0aGlzLmZpcmVkID0gdHJ1ZTtcbiAgICBSZWZsZWN0QXBwbHkodGhpcy5saXN0ZW5lciwgdGhpcy50YXJnZXQsIGFyZ3MpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9vbmNlV3JhcCh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBzdGF0ZSA9IHsgZmlyZWQ6IGZhbHNlLCB3cmFwRm46IHVuZGVmaW5lZCwgdGFyZ2V0OiB0YXJnZXQsIHR5cGU6IHR5cGUsIGxpc3RlbmVyOiBsaXN0ZW5lciB9O1xuICB2YXIgd3JhcHBlZCA9IG9uY2VXcmFwcGVyLmJpbmQoc3RhdGUpO1xuICB3cmFwcGVkLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHN0YXRlLndyYXBGbiA9IHdyYXBwZWQ7XG4gIHJldHVybiB3cmFwcGVkO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGxpc3RlbmVyKTtcbiAgfVxuICB0aGlzLm9uKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZE9uY2VMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIHRoaXMucHJlcGVuZExpc3RlbmVyKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuLy8gRW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmIGFuZCBvbmx5IGlmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICB2YXIgbGlzdCwgZXZlbnRzLCBwb3NpdGlvbiwgaSwgb3JpZ2luYWxMaXN0ZW5lcjtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGxpc3RlbmVyKTtcbiAgICAgIH1cblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgbGlzdCA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmIChsaXN0ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3QubGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaXN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBvc2l0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yIChpID0gbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fCBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgb3JpZ2luYWxMaXN0ZW5lciA9IGxpc3RbaV0ubGlzdGVuZXI7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gMClcbiAgICAgICAgICBsaXN0LnNoaWZ0KCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNwbGljZU9uZShsaXN0LCBwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgZXZlbnRzW3R5cGVdID0gbGlzdFswXTtcblxuICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIG9yaWdpbmFsTGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbiAgICBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnModHlwZSkge1xuICAgICAgdmFyIGxpc3RlbmVycywgZXZlbnRzLCBpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudHNbdHlwZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZXZlbnRzKTtcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBMSUZPIG9yZGVyXG4gICAgICAgIGZvciAoaSA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5mdW5jdGlvbiBfbGlzdGVuZXJzKHRhcmdldCwgdHlwZSwgdW53cmFwKSB7XG4gIHZhciBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuICBpZiAoZXZsaXN0ZW5lciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpXG4gICAgcmV0dXJuIHVud3JhcCA/IFtldmxpc3RlbmVyLmxpc3RlbmVyIHx8IGV2bGlzdGVuZXJdIDogW2V2bGlzdGVuZXJdO1xuXG4gIHJldHVybiB1bndyYXAgP1xuICAgIHVud3JhcExpc3RlbmVycyhldmxpc3RlbmVyKSA6IGFycmF5Q2xvbmUoZXZsaXN0ZW5lciwgZXZsaXN0ZW5lci5sZW5ndGgpO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIHRydWUpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnMgPSBmdW5jdGlvbiByYXdMaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsaXN0ZW5lckNvdW50LmNhbGwoZW1pdHRlciwgdHlwZSk7XG4gIH1cbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGxpc3RlbmVyQ291bnQ7XG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcblxuICAgIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSBlbHNlIGlmIChldmxpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgcmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50ID4gMCA/IFJlZmxlY3RPd25LZXlzKHRoaXMuX2V2ZW50cykgOiBbXTtcbn07XG5cbmZ1bmN0aW9uIGFycmF5Q2xvbmUoYXJyLCBuKSB7XG4gIHZhciBjb3B5ID0gbmV3IEFycmF5KG4pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSlcbiAgICBjb3B5W2ldID0gYXJyW2ldO1xuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAoOyBpbmRleCArIDEgPCBsaXN0Lmxlbmd0aDsgaW5kZXgrKylcbiAgICBsaXN0W2luZGV4XSA9IGxpc3RbaW5kZXggKyAxXTtcbiAgbGlzdC5wb3AoKTtcbn1cblxuZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKGFycikge1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGFyci5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7ICsraSkge1xuICAgIHJldFtpXSA9IGFycltpXS5saXN0ZW5lciB8fCBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5\n")},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBwLnNjc3M/OTJjYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./src/helpers/globals.js\nvar globals = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/components/aco/agent.js\n/* -------------------------------------------------------------------------- */\n\n/*                                Agent object                                */\n\n/* -------------------------------------------------------------------------- */\nclass AntAgent {\n  constructor(canvas, coordinates) {\n    this.canvas = canvas;\n    this.startPostition = coordinates; // x,y coordinates from aco-algorithm.js\n\n    this.currentCoordinates = this.startPostition;\n    this.previousCoordinates = []; // used to store previours coordinates\n\n    this.agentSize = 1; // the agent size on the canvas (1 pixel for accuracy)\n  }\n\n  getRandomPosition() {\n    // calculate a random position for an agent on the canvas\n    const x = Math.floor(Math.random() * this.canvas.width);\n    const y = Math.floor(Math.random() * this.canvas.height);\n    return {\n      x: x,\n      y: y\n    };\n  }\n\n  depositPheromone(coordinates) {\n    // deposit pheromone at passed pixel\n    // the passed coordinates are the current and the just passed ones\n    // calculate the median intensities of the curent node and the passed node as well as the nodes from their neighbourhoods \n    const medians = [];\n    coordinates.forEach(pixel => {\n      const matrixSize = pheromoneMatrix.length - 1,\n            x = pixel.x,\n            y = pixel.y,\n            neighbourIntensities = [];\n\n      for (let i = -1; i <= 1; i++) {\n        for (let j = -1; j <= 1; j++) {\n          // canvas bounds\n          const notOutOfBounds = x + i > -1 && x + i < matrixSize && y + j > -1 && y + j < matrixSize; // get the neighbourhood intensity values\n\n          if (notOutOfBounds) {\n            neighbourIntensities.push(heuristicMatrix[x + i][y + j]);\n          }\n        }\n      }\n\n      medians.push(this.calcMedian(neighbourIntensities)); // calculate medians\n    }); //calculate the difference between the two median intensities \n\n    const medDiff = medians[0] - medians[1]; // calculate pheromone deposition at node\n    // based on equation 1 from Ricardo Contreras et al.'s (2013) article\n\n    pheromoneMatrix[coordinates[0].x][coordinates[0].y] += heuristicMatrix[coordinates[0].x][coordinates[0].y] >= tNoiseFilt ? nConstPD + pConstPD * medDiff / 255 : 0;\n  }\n\n  calcMedian(arr) {\n    // calculate medians\n    const mid = Math.floor(arr.length / 2),\n          nums = [...arr].sort((a, b) => a - b);\n    return arr.length % 2 !== 0 ? nums[mid] : (nums[mid - 1] + nums[mid]) / 2;\n  }\n\n  calculateNextStep() {\n    // get the next step an ant should move to\n    let currentMaxProbability = 0,\n        maxProbabilityIndex = 0,\n        sumProducts = 0,\n        visited = false; // phProducts stands for array of pheromone and heuristic products\n    // pCLen stands for the length of the previous coordinates array\n\n    const phProducts = [],\n          neighbourNodeCoordinates = [],\n          x = this.currentCoordinates.x,\n          y = this.currentCoordinates.y,\n          matrixSize = pheromoneMatrix.length - 1,\n          pCLen = this.previousCoordinates.length; // find the pheromone and heuristic product\n\n    for (let i = -1; i <= 1; i++) {\n      for (let j = -1; j <= 1; j++) {\n        // canvas bounds\n        const outOfBounds = x + i > -1 && x + i < matrixSize && y + j > -1 && y + j < matrixSize;\n        visited = false; // keep track of visited nodes\n        // calculate values for all nodes but the current one\n\n        if (i !== 0 && j !== 0 && outOfBounds) {\n          // see if a pixel is visited by checking the saved nodes in the ant's memory\n          // antMemLen defines how far back into the ants memory should be checked\n          for (let k = 1; k < (antMemLen > pCLen ? pCLen : antMemLen); k++) {\n            // check if a node is visited\n            if (this.previousCoordinates[pCLen - k].x === x + i && this.previousCoordinates[pCLen - k].y === y + j) {\n              visited = true; // mark as visited\n\n              k = antMemLen + 1; // exit the loop to prevent agent looping\n            }\n          }\n\n          if (!visited) {\n            // calculate the product of the pheromone and heuristic\n            // based on equation 4 from Liu and Fang's (2015) article \n            const productValue = Math.pow(pheromoneMatrix[x + i][y + j], alpha) * Math.pow(heuristicMatrix[x + i][y + j], beta);\n            phProducts.push(productValue); //find the sum of all products from the neighbourhood\n\n            sumProducts += productValue;\n          } else {\n            phProducts.push(\"visited\");\n          } // save all neighbourhood coordinates of a pixel \n\n\n          neighbourNodeCoordinates.push({\n            x: x + i,\n            y: y + j\n          });\n        }\n      }\n    } //find the maximum probability for next move\n\n\n    phProducts.forEach((product, i) => {\n      //check if not the previous pixel\n      let notPrevious = product !== \"visited\";\n      const result = sumProducts !== 0 && notPrevious ? Math.abs(product / sumProducts) : 0; // check if the result is bigger than the noise filter\n\n      if (result >= tNoiseFilt) {\n        if (result > currentMaxProbability && notPrevious) {\n          currentMaxProbability = result;\n          maxProbabilityIndex = i; // set the index of the neighbour with highest intensity\n        }\n      }\n    }); // check if there is no high probability and respawn ant\n\n    if (currentMaxProbability === 0) {\n      maxProbabilityIndex = 99;\n    } // respawn ant\n\n\n    if (maxProbabilityIndex === 99) {\n      this.previousCoordinates = []; // reset ant's memory\n\n      const newPositions = this.getRandomPosition(); // get new random coordinates for the ant's new position\n\n      return {\n        newCoordinates: newPositions,\n        newAnt: true\n      };\n    } else return {\n      newCoordinates: neighbourNodeCoordinates[maxProbabilityIndex],\n      newAnt: false\n    };\n  }\n\n  moveTo(coordinates, newAnt) {\n    // move ant to a new location\n    // check if ant is not respawned\n    if (!newAnt) {\n      this.depositPheromone([this.currentCoordinates, coordinates]);\n      this.previousCoordinates.push(this.currentCoordinates);\n    } else this.previousCoordinates = [];\n\n    this.currentCoordinates = coordinates; // move ant to new coordinates\n  }\n\n}\n// CONCATENATED MODULE: ./src/helpers/matrix-helper.js\n/* -------------------------------------------------------------------------- */\n\n/*                          Matrices helper functions                         */\n\n/* -------------------------------------------------------------------------- */\nclass MatrixHelper {\n  constructor() {\n    this.iMax = imageIntensityArray1d.reduce((a, b) => a + b) / imageIntensityArray1d.length; // get the mean value\n  }\n\n  generateInitialMatrices() {\n    // construct the initial matrices (2d arrays)\n    for (let x = 0; x < canvasHeight; x++) {\n      pheromoneMatrix[x] = [];\n      heuristicMatrix[x] = [];\n\n      for (let y = 0; y < canvasWidth; y++) {\n        pheromoneMatrix[x][y] = initialPheromoneValue;\n        heuristicMatrix[x][y] = this.heuristicInformationForPixel(x, y);\n      }\n    } // FOR DEBUGGING : Heuristuc matrix\n    // console.log('%c heuristicMatrix', 'color: #24c95a', heuristicMatrix); // print the matrix in the console\n\n  }\n\n  resetPheromoneMatrix() {\n    // reset the pheromone matrix to its initial state\n    for (let x = 0; x < canvasHeight; x++) {\n      pheromoneMatrix[x] = [];\n\n      for (let y = 0; y < canvasWidth; y++) {\n        pheromoneMatrix[x][y] = initialPheromoneValue;\n      }\n    }\n  }\n\n  heuristicInformationForPixel(x, y) {\n    // get the heuristic information for a given pixel\n    return 1 / this.iMax * this.getMaxIntensityValueForPixel(x, y);\n  }\n\n  getMaxIntensityValueForPixel(x, y) {\n    // calculate heuristic information for a pixel given its 5x5 neighbourhood\n    // based on equation 5 from Liu and Fang's (2015) article \n    const arrLength = imageIntensityArray.length - 1;\n    const neighbourhoodIntensities = []; // loop through the whole 5x5 neighbourhood\n\n    for (let u = 0; u <= 2; u++) {\n      for (let v = -2; v <= 2; v++) {\n        // bound limits\n        const boundX = x > 1 ? x < arrLength - 1 ? u : 0 : 0;\n        const boundY = y > 1 ? y < arrLength - 1 ? v : 0 : 0; // calculate values based on the mirror principle\n\n        neighbourhoodIntensities.push(Math.abs(imageIntensityArray[x - boundX][y - boundY] - imageIntensityArray[x + boundX][y + boundY]));\n      }\n    }\n\n    return Math.max(...neighbourhoodIntensities); // get the maximum intensity value from the pixel's neighbourhood\n  }\n\n}\n// EXTERNAL MODULE: ./src/helpers/extras.js\nvar extras = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/aco/aco-algorithm.js\n/* -------------------------------------------------------------------------- */\n\n/*                           ACO algorithm main file                          */\n\n/* -------------------------------------------------------------------------- */\n\n/* --------------------------------- Imports -------------------------------- */\n\n\n\n/* -------------------------------------------------------------------------- */\n\nclass aco_algorithm_ACO {\n  constructor(image, resultsGallery) {\n    /* ------------------------ Get environment settings ------------------------ */\n    this.image = image; // get uploaded image information\n\n    this.canvas = document.querySelector('#canvasFg'); // get the drawing layer of the canvas to preserve the background\n\n    this.canvasW = this.canvas.getBoundingClientRect().width; // get the canvas width\n\n    this.canvasH = this.canvas.getBoundingClientRect().height; // get the canvas height\n\n    this.canvasArea = this.canvasW * this.canvasH; // get canvas area\n\n    this.ctx = this.canvas.getContext(\"2d\"); // get the canvas context\n\n    /* -------------------------- Get external classes -------------------------- */\n\n    this.matrixHelper = new MatrixHelper(); // initialise the matrix helper \n\n    this.resultsGallery = resultsGallery; // get the already initialised results gallery class from app.js\n\n    /* --------------------- Visualisation control variables -------------------- */\n\n    this.currentFrame = 1; // set the current frame of the animation loop\n\n    this.animationCount = 0; // set the animation step of an ant\n\n    this.agentCount = 0; // set the currently drawn agent\n\n    this.paused = false; // true if the algorithm is paused\n\n    /* ------------ Generate initial pheromone and heuristic matrices ----------- */\n\n    this.matrixHelper.generateInitialMatrices(); // generate the initial matrices\n\n    /* ----------------- Set default user input values for image ---------------- */\n\n    this.setDefaultValues(); // set default values for the parameters\n\n    /* ---------------------------- Simulation stats ---------------------------- */\n\n    this.textIter = document.querySelector('#iter-text'); // current iteration\n\n    this.textCurr = document.querySelector('#ant-text'); // current ant\n\n    this.textNew = document.querySelector('#step-text'); // current step\n\n    this.textX = document.querySelector('#x-text'); // current x coordinate\n\n    this.textY = document.querySelector('#y-text'); // current y coordinate\n  }\n\n  init() {\n    // initialise - called when an image is uploaded\n    this.ctx.clearRect(0, 0, this.canvasW, this.canvasH); // refresh canvas\n\n    this.updateGlobalParams();\n    this.initializeAgents();\n    this.currentFrame = 1;\n    this.animationIntervalId = null;\n  }\n\n  reset(full) {\n    // reset the algorithm\n    clearInterval(this.animationIntervalId); // stop the animation loop\n\n    Object(extras[\"stopTimer\"])(); // stop elapsed time timer\n\n    this.matrixHelper.resetPheromoneMatrix(); // reset pheromone matrix\n\n    this.paused = false;\n\n    if (full === 'full') {\n      // reset fully - used when image is changed\n      this.ctx.clearRect(0, 0, this.canvasW, this.canvasH);\n      this.currentFrame = 1;\n      this.animationIntervalId = null;\n    } else this.init();\n  }\n\n  stop() {\n    // pause functionality\n    this.paused = true;\n    clearInterval(this.animationIntervalId);\n    Object(extras[\"stopTimer\"])('pause'); // pause elapsed time timer\n  }\n\n  setDefaultValues() {\n    //sets the default algorithm parameter values\n    this.defaultParams = {\n      'iterations': 3,\n      'antCount': Math.round(Math.sqrt(this.image.width * this.image.height)),\n      'numAntMov': Math.round(Math.round(3 * Math.sqrt(this.image.width * this.image.height))),\n      'antMemLen': Math.round(Math.sqrt(2 * (this.image.width + this.image.height))),\n      'nConstPD': 2,\n      'pConstPD': 10,\n      'tNoiseFilt': 0.1,\n      'roPEvRate': 0.02,\n      'alpha': 2,\n      'beta': 2\n    };\n    Object.keys(this.defaultParams).forEach(key => {\n      window[key] = Number(this.defaultParams[key]); // save the currently used vars globally \n\n      window.allUI[key].value = window[key];\n      window.allUI[key].placeholder = window[key];\n    });\n  }\n\n  updateGlobalParams() {\n    // updates the algorithm parameters according to user input\n    Object.keys(this.defaultParams).forEach(key => {\n      window[key] = Number(window.allUI[key].value);\n    });\n  }\n\n  initializeAgents() {\n    const density = Math.round(this.canvasArea / antCount); // calculates density at which ants should be positioned\n\n    this.agents = []; // initialise agents array\n    // FOR DEBUGGING : Pheromone matrix\n    // console.log(\"%c pheromoneMatrix\", \"color: #24c95a\", pheromoneMatrix); //show pheromone matrix in console log\n\n    this.ctx.fillStyle = `rgba(66, 33, 123, 255)`; // set style for ant agent colour\n\n    /* counts trough all the agents calculates each's position,\n    draws them on the canvas and adds them to the array of agents*/\n\n    for (let i = 0; i < antCount; i++) {\n      // calculate x and y coordinates to fit ants in a grid-like structure\n      const x = Math.floor(i * density / this.canvasW);\n      const y = i * density - x * this.canvasW; //initialise agen objec with coordinated coordinates\n\n      this.agents[i] = new AntAgent(this.canvas, {\n        x: x,\n        y: y\n      });\n      this.ctx.fillRect(this.agents[i].currentCoordinates.y, this.agents[i].currentCoordinates.x, 2, 1); // show agents on the canvas\n    } // FOR DEBUGGING : Array of agents\n    // console.log(\"%c Agents\", \"color: #24c95a\", this.agents); // show list of agents in console log\n\n  }\n\n  startSimulation() {\n    console.log(\"%c Simulation start: \", \"color: #bada55\"); // show simulation start in the browser console\n\n    events.emit('start-simulation'); // emit an event to mark the start of the simulation\n\n    if (!this.paused) this.ctx.clearRect(0, 0, this.canvasW, this.canvasH); // clears the canvas if the algorithm is restarted\n    // defines the way in which the algorithm will work, depending on the visualisation toggle\n\n    if (visualisation) {\n      Object(extras[\"timer\"])(); // check if timer has been stopped\n\n      this.animationIntervalId = setInterval(this.animateMoves.bind(this), 1); // starts the canvas drawing loop\n    } else {\n      events.emit('simulation-without-visualisation'); // emits an event to mark the start of the algorithm without visualisations, used to show the loading screen\n\n      setTimeout(() => this.noAnimationMoves(), 500); // start the algorithm with a javascript loop for faster performance\n    }\n  }\n\n  noAnimationMoves() {\n    const start = Date.now(); // mark the starting time of the algorithm\n    // start the construction process \n\n    for (this.currentFrame; this.currentFrame < iterations; this.currentFrame++) {\n      console.log(\"%c Iteration: \", \"color: #bada55\", this.currentFrame); // show the current iteration in the browser console\n      // ant movement for all agents\n\n      this.agents.forEach(agent => {\n        for (let i = 0; i < numAntMov; i++) {\n          const {\n            newCoordinates,\n            newAnt\n          } = agent.calculateNextStep();\n          agent.moveTo(newCoordinates, newAnt);\n          if (agent.currentCoordinates == undefined) console.log(\"faulty\", agent);\n          if (newAnt) i = numAntMov;\n        }\n      }); // update pheromone values after all ants have moved\n\n      pheromoneMatrix.forEach((val, x) => {\n        val.forEach((arr, y) => {\n          this.updatePheromoneLevel(this.agents, x, y);\n        });\n      });\n    }\n\n    console.log(\"%c Iteration: \", \"color: #bada55\", this.currentFrame); // show the current iteration in the browser console\n\n    console.log(\"%c END OF ALGORITHM\", \"color: #c92424\"); // indicate the end of the algorithm in the console\n\n    Object(extras[\"loadingBar\"])(iterations, iterations); // update the laoding bar status\n\n    Object(extras[\"elapsedTime\"])(start, Date.now()); // calculate the elapsed time\n\n    this.resultsGallery.createBinaryImage(); // trigger the creation of a result image\n\n    events.emit('simulation-complete'); // emit an event to mark the end of the simulation of the algorithm\n  }\n\n  animateMoves() {\n    // show visualisations\n    // as javascript loop occupies the whole event thread, animation of canvas elements is done in a functional programming way\n    const agent = this.agents[this.agentCount]; // get the current agent to draw\n\n    this.animationCount++; // necessary for the incrementation of drawing frame\n\n    if (this.animationCount >= numAntMov) {\n      // case if ant moves have finished\n      Object(extras[\"loadingBar\"])(this.agentCount + (this.agents.length - 1) * (this.currentFrame - 1), (this.agents.length - 1) * iterations); // update the loading bar\n\n      this.animationCount = 0; // reset the animation frame\n\n      this.agentCount++; // go to next agent\n    }\n\n    if (this.agentCount >= this.agents.length) {\n      // case if the agents have finished\n      // update pheromone values\n      pheromoneMatrix.forEach((val, y) => {\n        val.forEach((arr, x) => {\n          this.updatePheromoneLevel(this.agents, x, y);\n          this.ctx.fillStyle = `rgba(0, 255, 0, ${pheromoneMatrix[x][y]})`; // set style for high pheromone values after iteration\n\n          this.ctx.fillRect(y, x, 1, 1);\n        }); // high pheromone values in green \n      });\n\n      if (this.currentFrame >= iterations) {\n        // case if this was the last iteration\n        console.log(\"%c END ANIMATION\", \"color: #c92424\"); // Mark end of animation in the console\n\n        Object(extras[\"stopTimer\"])(); // stop elapsed time timer\n\n        this.resultsGallery.createBinaryImage(); // add the result to the gallery\n\n        clearInterval(this.animationIntervalId); // stop the animation loop\n\n        events.emit('simulation-complete'); // emit an event marking the end of the simulation of the algorithm\n      } else {\n        // case if the current iteration is finished and there are more left\n        this.currentFrame++; // go to next frame\n\n        this.agentCount = 0; // start from 1st agent\n\n        this.animationCount = 0; // refresh animation frames\n      }\n    } else {\n      const {\n        newCoordinates,\n        newAnt\n      } = agent.calculateNextStep(); // get the next ant move info\n\n      agent.moveTo(newCoordinates, newAnt); // move the agent to new location\n\n      if (this.animationCount % 10 === 0) {\n        //draw 10 pixel movements at once for faster visualisation\n        if (pheromoneMatrix[agent.currentCoordinates.x][agent.currentCoordinates.y] <= initialPheromoneValue) {\n          this.ctx.fillStyle = `rgba(66, 33, 123, 255)`; // set style for normal ant trails\n        } else {\n          this.ctx.fillStyle = `rgba(237, 0, 1, 255)`; // set style for high pheromone values\n        }\n\n        if (agent.previousCoordinates.length > 10) {\n          // draw 10 ant movements on canvas\n          for (let k = 1; k < 10; k++) {\n            this.ctx.fillRect(agent.previousCoordinates[agent.previousCoordinates.length - k].y, agent.previousCoordinates[agent.previousCoordinates.length - k].x, 1, 1);\n          }\n        } // draw current ant position\n\n\n        this.ctx.fillRect(agent.currentCoordinates.y, agent.currentCoordinates.x, 1, 1);\n      }\n\n      if (newAnt) {\n        this.animationCount = numAntMov; // checks if a new ant is generated and exits loop\n      }\n    }\n\n    if (agent !== undefined) {\n      // update the simulation information values\n      this.textIter.value = this.currentFrame;\n      this.textCurr.value = this.agentCount;\n      this.textNew.value = this.animationCount;\n      this.textX.value = agent.currentCoordinates.x;\n      this.textY.value = agent.currentCoordinates.y;\n    }\n  }\n\n  updatePheromoneLevel(agents, x, y) {\n    // update pheromone values according to equation with evaporation\n    let sumPheromone = 0;\n    agents.forEach(agent => {\n      if (agent.previousCoordinates[x] && agent.previousCoordinates[y]) {\n        sumPheromone += pheromoneMatrix[x][y] >= tNoiseFilt ? pheromoneMatrix[x][y] : 0;\n      }\n    });\n    const newPheromoneLevel = (1 - roPEvRate) * pheromoneMatrix[x][y] + sumPheromone;\n    pheromoneMatrix[x][y] = newPheromoneLevel;\n  }\n\n}\n// EXTERNAL MODULE: ./src/components/environment-image/environment-image.js\nvar environment_image = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/components/results-gallery/results-gallery.js\n/* -------------------------------------------------------------------------- */\n\n/*                               Results gallery                              */\n\n/* -------------------------------------------------------------------------- */\nclass ResultsGallery {\n  constructor() {\n    const canvas = document.querySelector('#canvasFg');\n    this.canvasW = canvas.getBoundingClientRect().width;\n    this.canvasH = canvas.getBoundingClientRect().height;\n    this.resultDiv = document.querySelector(\".binary-canvas-holder\"); // select target div\n    // Set gallery controls\n\n    this.initGalleryControls();\n  }\n\n  initGalleryControls() {\n    // Overlay controls\n    this.resultDivOverlays = document.querySelector(\".overlays\");\n    this.leftArrow = document.querySelector(\".arrow.left\");\n    this.rightArrow = document.querySelector(\".arrow.right\");\n    this.itemCount = document.querySelector(\".item-count\");\n    this.paramDetailsButton = document.querySelector(\".param-details-button\");\n    this.paramDetails = document.querySelector(\".param-details\"); //create close button\n\n    this.paramDetailsCloseButton = document.createElement('button');\n    this.paramDetailsCloseButton.setAttribute('class', 'close-button');\n    this.paramDetailsCloseButton.innerHTML = 'x'; // button event listeners\n\n    this.leftArrow.addEventListener('click', () => this.prevPage());\n    this.rightArrow.addEventListener('click', () => this.nextPage());\n    this.paramDetailsButton.addEventListener('click', () => this.toggleParamsPanel('open'));\n    this.paramDetailsCloseButton.addEventListener('click', () => this.toggleParamsPanel('close'));\n  }\n\n  createBinaryImage() {\n    // Create a binary image from pheromone matrix information\n    const width = this.canvasW,\n          height = this.canvasH;\n    let buffer = new Uint8ClampedArray(width * height * 4); // used to hold canvas pixel informaition \n\n    const binaryCanvas = document.createElement(\"canvas\");\n    binaryCanvas.setAttribute(\"class\", \"binary-canvas\");\n    binaryCanvas.setAttribute(\"width\", width);\n    binaryCanvas.setAttribute(\"height\", height);\n    const binCtx = binaryCanvas.getContext(\"2d\");\n    pheromoneMatrix.forEach((arr, y) => {\n      arr.forEach((value, x) => {\n        // check if the pheromone intensity value is higher than the initial pheromone value to define drawing (black) or background colour (white)\n        const valueRGB = value > initialPheromoneValue ? 0 : 255;\n        const pos = (y * height + x) * 4; // positioning (multiplied by 4 as there are 4 values for each pixel - RGBA)\n\n        buffer[pos] = valueRGB; //  R value \n\n        buffer[pos + 1] = valueRGB; //  G value\n\n        buffer[pos + 2] = valueRGB; //  B value\n\n        buffer[pos + 3] = 255; // set alpha channel\n        // }\n      });\n    }); // create imageData object\n\n    const idata = binCtx.createImageData(width, height); // set our buffer as source\n\n    idata.data.set(buffer); // update canvas with new data\n\n    binCtx.putImageData(idata, 0, 0); // hide previous canvas\n\n    if (this.resultDiv.lastChild) {\n      this.resultDiv.lastChild.style.opacity = 0;\n    }\n\n    this.addToGallery(binaryCanvas); // add the binary image to the gallery\n  }\n\n  addToGallery(binaryCanvas) {\n    if (this.resultDiv.childElementCount > 0) {\n      for (let item of this.resultDiv.children) {\n        item.style.opacity = 0; // hide all previous gallery images\n\n        item.style.height = 0;\n      }\n    } //add binary image canvas to the HTML\n\n\n    this.resultDiv.appendChild(binaryCanvas); // store canvas and its position positioning in the global arrays\n\n    pages.push(this.resultDiv.lastChild);\n    currentPage = pages.length - 1;\n    this.saveParams(); // save current simulation parameters\n\n    this.updatePreview(); // update the view of the gallery element\n  }\n\n  showControls() {\n    // show overlay controls\n    const childCount = this.resultDiv.childElementCount;\n    this.resultDivOverlays.style.display = 'block';\n    this.itemCount.innerHTML = `${currentPage + 1} / ${childCount}`; // page numbers\n    // arrows behaviour\n\n    switch (currentPage) {\n      case 0:\n        // first image\n        this.rightArrow.style.display = 'flex';\n        this.leftArrow.style.display = 'none';\n        break;\n\n      case pages.length - 1:\n        // last image\n        this.leftArrow.style.display = 'flex';\n        this.rightArrow.style.display = 'none';\n        break;\n\n      default:\n        // all images in between\n        this.leftArrow.style.display = 'flex';\n        this.rightArrow.style.display = 'flex';\n        break;\n    }\n\n    if (childCount === 1) {\n      this.rightArrow.style.display = 'none';\n      this.leftArrow.style.display = 'none';\n    }\n  }\n\n  updatePreview() {\n    // update the image preview\n    if (previousPage > -1) {\n      pages[previousPage].style.opacity = 0;\n      pages[previousPage].style.height = 0;\n    }\n\n    pages[currentPage].style.opacity = 1;\n    pages[currentPage].style.height = '100%';\n    this.showControls();\n    this.loadParams(); // load saved params for image\n  }\n\n  nextPage() {\n    // go to next page\n    if (currentPage < pages.length - 1) {\n      previousPage = currentPage;\n      currentPage++;\n    }\n\n    this.updatePreview();\n  }\n\n  prevPage() {\n    // go to previous page\n    if (currentPage > 0) {\n      previousPage = currentPage;\n      currentPage--;\n    }\n\n    this.updatePreview();\n  }\n\n  saveParams() {\n    // save current image parameters \n    const paramsToSave = [];\n    Object.values(allUI).forEach((element, i) => {\n      const elementObj = {};\n      elementObj.value = element.value;\n      elementObj.id = element.id;\n      elementObj.name = element.name;\n      paramsToSave.push(elementObj);\n    });\n    savedParams.push(paramsToSave); // push to global array\n  }\n\n  loadParams() {\n    // load image parameters\n    this.paramDetails.innerHTML = ''; // clear previous params\n    //loop through saved simulation parameters for the image in view and add them to the html element\n\n    savedParams[currentPage].forEach(element => {\n      const span = document.createElement('span');\n      span.setAttribute('class', 'param-details-element');\n      span.setAttribute('id', `${element.id}-saved`);\n      span.innerHTML = `${element.name}: ${element.value}`;\n      this.paramDetails.appendChild(span);\n    });\n    this.paramDetails.appendChild(this.paramDetailsCloseButton);\n  }\n\n  toggleParamsPanel(action) {\n    // open the parameters overlay panel\n    if (action === 'open') {\n      // Show parameters\n      this.paramDetailsButton.style.display = 'none';\n      this.paramDetails.style.display = 'block';\n    } else {\n      // Hide parameters\n      this.paramDetailsButton.style.display = 'block';\n      this.paramDetails.style.display = 'none';\n    }\n  }\n\n}\n// CONCATENATED MODULE: ./src/app.js\n/* -------------------------------------------------------------------------- */\n\n/* -------------------------------------------------------------------------- */\n\n/*                            Main JavaScript file                            */\n\n/* -------------------------------------------------------------------------- */\n\n/* -------------------------------------------------------------------------- */\n\n/* -------------------------------------------------------------------------- */\n\n/*                                   Imports                                  */\n\n/* -------------------------------------------------------------------------- */\n\nObject(globals[\"a\" /* default */])(); // initialise all global variables\n\n // aco algorithm file\n\n // image environment file\n\n\n // results gallery\n\n/* -------------------------------------------------------------------------- */\n\nconst app_resultsGallery = new ResultsGallery(); // initialise results gallery class\n\n/* -------------------------------------------------------------------------- */\n\n/*                                HTML elements                               */\n\n/* -------------------------------------------------------------------------- */\n\nconst body = document.querySelector('body');\nconst uploader = document.querySelector('#image-upload');\nconst app_image = document.querySelector('#image-source');\nconst imagePreview = document.querySelector('#image-preview');\nconst canvasBg = document.querySelector('#canvasBg');\nconst drawImageButton = document.querySelector('#draw-image-button');\nconst startSimulationButton = document.querySelector('#start-simulation');\nconst setDefaultsButton = document.querySelector('#defaults-button');\nconst loadingPulse = document.querySelector('.pulse');\nconst sysInfoPanel = document.querySelector('.sys-info-panel');\nconst simSettingsPanel = document.querySelector('.sim-settings-panel');\nconst legend = document.querySelector('.legend');\nconst processParams = document.querySelectorAll('.process-params>input');\nconst elapsedTime = document.querySelector('#elapsed-time');\nconst performanceDisclaimer = document.querySelector('.performance-disclaimer');\nconst pushBackScreen = document.querySelector('.push-back-screen');\nconst downloadButton = document.querySelector('.download-button');\n/* -------------------------------------------------------------------------- */\n\n/* -------------------------------------------------------------------------- */\n\n/*                                  Variables                                 */\n\n/* -------------------------------------------------------------------------- */\n\nlet envImage;\nlet algorithm;\nlet uploadedYet = false;\nlet inputsChanged = false;\n/* ------------------------------- Button text ------------------------------ */\n\nconst drawImageButtonDefaultText = 'Upload';\nconst drawImageButtonActiveText = 'Reset';\n/* -------------------------------------------------------------------------- */\n\n/* -------------------------------------------------------------------------- */\n\n/*                              Initial settings                              */\n\n/* -------------------------------------------------------------------------- */\n// Canvas dimensions\n\ncanvasWidth = canvasBg.width;\ncanvasHeight = canvasBg.clientHeight; // Disable initial state of dynamic elements\n\ntoggleVisElem.setAttribute('disabled', 'disabled');\ndisableInputs(true);\n/* -------------------------------------------------------------------------- */\n\n/* -------------------------------------------------------------------------- */\n\n/*                               Main buttons behaviour                       */\n\n/* -------------------------------------------------------------------------- */\n\n/* --------------------- Image uploader input behaviour --------------------- */\n\nuploader.addEventListener('change', function () {\n  const file = this.files[0]; // Check if a file is uploaded\n\n  if (this.files && this.files.length > 0) {\n    const reader = new FileReader();\n    reader.addEventListener('load', function () {\n      app_image.setAttribute('src', this.result);\n      imagePreview.setAttribute('src', this.result);\n    });\n    reader.readAsDataURL(file);\n\n    if (uploadedYet) {\n      events.emit('revert-initial-state');\n    }\n\n    drawImageButton.removeAttribute('disabled');\n    drawImageButton.innerHTML = drawImageButtonDefaultText;\n    uploadedYet = true;\n  }\n});\n/* ---------------------- Upload/reset button behaviour --------------------- */\n\ndrawImageButton.addEventListener('click', () => {\n  drawImageButton.blur(); // remove focus\n\n  if (drawImageButton.innerHTML === drawImageButtonActiveText) {\n    events.emit('reset');\n  } else if (app_image) {\n    envImage = new environment_image[\"a\" /* default */](app_image, canvasBg); // initialise the image environment passing the uploaded image\n\n    algorithm = new aco_algorithm_ACO(envImage, app_resultsGallery); // initialise the algorithm (initialise its params only)\n\n    algorithm.reset(); // reset the algorithm to defaults\n\n    startSimulationButton.removeAttribute('disabled');\n    drawImageButton.innerHTML = drawImageButtonActiveText;\n    toggleVisElem.removeAttribute('disabled');\n    events.emit('drawn-image'); // send an event that the image is drawn on the canvas\n  }\n});\n/* ---------------------- track user input changes ---------------------- */\n\nconst userInputEventHandler = () => {\n  // actions for when a user inputs new data\n  startSimulationButton.removeAttribute('disabled');\n  algorithm.reset();\n  inputsChanged = true;\n  toggleDefaulsButton();\n};\n\nObject.values(allUI).forEach(element => {\n  // event listeners for change on value alteration\n  element.addEventListener('blur', e => {\n    if (e.target.value === '') e.target.value = e.target.placeholder;\n    algorithm.reset();\n    toggleDefaulsButton();\n  });\n  element.addEventListener('input', userInputEventHandler);\n  element.addEventListener('propertychange', userInputEventHandler); // for Firefox/Edge and IE9\n});\n/* -------------------- start simulation button behaviour ------------------- */\n\nstartSimulationButton.addEventListener('click', () => {\n  startSimulationButton.setAttribute('disabled', 'disabled');\n  algorithm.updateGlobalParams(); // set global parameters based on user input\n\n  algorithm.startSimulation();\n});\n/* ---------------------- reset user inputs to default ---------------------- */\n\nsetDefaultsButton.addEventListener('click', () => {\n  startSimulationButton.removeAttribute('disabled');\n  algorithm.setDefaultValues();\n  algorithm.reset();\n  inputsChanged = false;\n  toggleDefaulsButton();\n});\n/* ------------------- control pause button functionlaity ------------------- */\n\nloadingPulse.addEventListener('click', () => {\n  // pause simulation\n  events.emit('stop-simulation');\n});\n/* ---------------------- download button functionality --------------------- */\n\ndownloadButton.addEventListener('click', () => {\n  const currentCanvas = pages[currentPage];\n  const dataURL = currentCanvas.toDataURL('image/png');\n  downloadButton.download = 'outline.png';\n  downloadButton.href = dataURL;\n});\n/* -------------------------------------------------------------------------- */\n\n/*                           Program states controls                          */\n\n/* -------------------------------------------------------------------------- */\n// Event listeners to trigger changes according to the program state //\n\n/* ---------------------- Put system into intial state ---------------------- */\n\nevents.on('revert-initial-state', () => {\n  events.emit('stop-simulation');\n  disableButtons();\n  resetInfoStats();\n  resetInputs();\n  algorithm.reset();\n});\n/* ---------------- State of the program at simulation start ---------------- */\n\nevents.on('start-simulation', () => {\n  //limit interactivity during simulation execution\n  drawImageButton.removeAttribute('disabled');\n  setDefaultsButton.setAttribute('disabled', 'disabled'); // show pulsing button\n\n  startSimulationButton.style.display = 'none';\n  loadingPulse.style.display = 'block';\n  sysInfoPanel.setAttribute('open', 'open');\n  document.body.style.cursor = 'wait';\n  legend.style.display = 'block';\n  disableInputs('true');\n});\n/* ----------- Show loading screen when visualisation is disabled ----------- */\n\nevents.on('simulation-without-visualisation', () => {\n  pushBackScreen.style.display = 'block';\n  body.style.overflow = 'hidden';\n  legend.style.display = 'none';\n});\n/* ---------------- State of the program at simulation pause ---------------- */\n\nevents.on('stop-simulation', () => {\n  startSimulationButton.style.display = 'block';\n  startSimulationButton.removeAttribute('disabled');\n  loadingPulse.style.display = 'none';\n  document.body.style.cursor = 'auto';\n  algorithm.stop();\n});\n/* --------------- State of the program at simulation complete -------------- */\n\nevents.on('simulation-complete', () => {\n  // initial state of buttons\n  loadingPulse.style.display = 'none';\n  startSimulationButton.style.display = 'block';\n  startSimulationButton.setAttribute('disabled', 'disabled');\n  drawImageButton.setAttribute('active', 'active'); // return to main screen from loading\n\n  document.body.style.cursor = 'auto';\n  pushBackScreen.style.display = 'none';\n  body.style.overflow = 'auto'; // enable user inputs\n\n  disableInputs(false);\n  toggleDefaulsButton();\n});\n/* ---------------------- Program state on image upload --------------------- */\n\nevents.on('drawn-image', () => {\n  drawImageButton.setAttribute('disabled', 'disabled');\n  simSettingsPanel.setAttribute('open', 'open');\n  disableInputs(false);\n});\n/* -------------- Program state on visualisation toggle change -------------- */\n\nevents.on('visualisation-toggled', animate => {\n  performanceDisclaimer.style.display = !animate ? 'block' : 'none'; // show hide visualisation disclamer\n\n  app_reset();\n});\n/* --------------------------- Reset program state -------------------------- */\n\nevents.on('reset', () => {\n  app_reset('full');\n});\n/* -------------------------------------------------------------------------- */\n\n/* -------------------------------------------------------------------------- */\n\n/*                                  Functions                                 */\n\n/* -------------------------------------------------------------------------- */\n\nfunction disableInputs(disabled) {\n  for (let item of allUI) {\n    if (disabled) item.setAttribute('disabled', 'disabled');else item.removeAttribute('disabled');\n  }\n}\n\nfunction app_reset(full = null) {\n  // reset program state (revert to initial state)\n  events.emit('stop-simulation');\n  resetInfoStats();\n\n  if (full) {\n    resetInputs();\n    algorithm.setDefaultValues();\n    legend.style.display = 'none';\n    toggleDefaulsButton();\n  }\n\n  algorithm.reset();\n  toggleVisElem.removeAttribute('disabled');\n  events.emit('drawn-image');\n}\n\nfunction resetInputs() {\n  // reset input values\n  for (let item of allUI) {\n    item.value = 0;\n    item.setAttribute('disabled', 'disabled');\n  }\n\n  inputsChanged = false;\n  toggleDefaulsButton();\n}\n\nfunction toggleDefaulsButton() {\n  // change user input parameters to their default values\n  if (inputsChanged) setDefaultsButton.removeAttribute('disabled');else setDefaultsButton.setAttribute('disabled', 'disabled');\n}\n\nfunction resetInfoStats() {\n  // reset simulation information values\n  for (let item of processParams) {\n    item.value = 0;\n  }\n\n  Object(extras[\"loadingBar\"])(0, 100);\n  elapsedTime.value = '0m 0s';\n  legend.style.display = 'none';\n}\n\nfunction disableButtons() {\n  // disable main controls buttons\n  drawImageButton.setAttribute('disabled', 'disabled');\n  startSimulationButton.setAttribute('disabled', 'disabled');\n  toggleVisElem.setAttribute('disabled', 'disabled');\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9hY28vYWdlbnQuanM/MzVlYyIsIndlYnBhY2s6Ly8vLi9zcmMvaGVscGVycy9tYXRyaXgtaGVscGVyLmpzPzM3NGYiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYWNvL2Fjby1hbGdvcml0aG0uanM/NTU3ZiIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9yZXN1bHRzLWdhbGxlcnkvcmVzdWx0cy1nYWxsZXJ5LmpzP2U3MWEiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC5qcz8xMTEyIl0sIm5hbWVzIjpbIkFudEFnZW50IiwiY29uc3RydWN0b3IiLCJjYW52YXMiLCJjb29yZGluYXRlcyIsInN0YXJ0UG9zdGl0aW9uIiwiY3VycmVudENvb3JkaW5hdGVzIiwicHJldmlvdXNDb29yZGluYXRlcyIsImFnZW50U2l6ZSIsImdldFJhbmRvbVBvc2l0aW9uIiwieCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIndpZHRoIiwieSIsImhlaWdodCIsImRlcG9zaXRQaGVyb21vbmUiLCJtZWRpYW5zIiwiZm9yRWFjaCIsInBpeGVsIiwibWF0cml4U2l6ZSIsInBoZXJvbW9uZU1hdHJpeCIsImxlbmd0aCIsIm5laWdoYm91ckludGVuc2l0aWVzIiwiaSIsImoiLCJub3RPdXRPZkJvdW5kcyIsInB1c2giLCJoZXVyaXN0aWNNYXRyaXgiLCJjYWxjTWVkaWFuIiwibWVkRGlmZiIsInROb2lzZUZpbHQiLCJuQ29uc3RQRCIsInBDb25zdFBEIiwiYXJyIiwibWlkIiwibnVtcyIsInNvcnQiLCJhIiwiYiIsImNhbGN1bGF0ZU5leHRTdGVwIiwiY3VycmVudE1heFByb2JhYmlsaXR5IiwibWF4UHJvYmFiaWxpdHlJbmRleCIsInN1bVByb2R1Y3RzIiwidmlzaXRlZCIsInBoUHJvZHVjdHMiLCJuZWlnaGJvdXJOb2RlQ29vcmRpbmF0ZXMiLCJwQ0xlbiIsIm91dE9mQm91bmRzIiwiayIsImFudE1lbUxlbiIsInByb2R1Y3RWYWx1ZSIsInBvdyIsImFscGhhIiwiYmV0YSIsInByb2R1Y3QiLCJub3RQcmV2aW91cyIsInJlc3VsdCIsImFicyIsIm5ld1Bvc2l0aW9ucyIsIm5ld0Nvb3JkaW5hdGVzIiwibmV3QW50IiwibW92ZVRvIiwiTWF0cml4SGVscGVyIiwiaU1heCIsImltYWdlSW50ZW5zaXR5QXJyYXkxZCIsInJlZHVjZSIsImdlbmVyYXRlSW5pdGlhbE1hdHJpY2VzIiwiY2FudmFzSGVpZ2h0IiwiY2FudmFzV2lkdGgiLCJpbml0aWFsUGhlcm9tb25lVmFsdWUiLCJoZXVyaXN0aWNJbmZvcm1hdGlvbkZvclBpeGVsIiwicmVzZXRQaGVyb21vbmVNYXRyaXgiLCJnZXRNYXhJbnRlbnNpdHlWYWx1ZUZvclBpeGVsIiwiYXJyTGVuZ3RoIiwiaW1hZ2VJbnRlbnNpdHlBcnJheSIsIm5laWdoYm91cmhvb2RJbnRlbnNpdGllcyIsInUiLCJ2IiwiYm91bmRYIiwiYm91bmRZIiwibWF4IiwiQUNPIiwiaW1hZ2UiLCJyZXN1bHRzR2FsbGVyeSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNhbnZhc1ciLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjYW52YXNIIiwiY2FudmFzQXJlYSIsImN0eCIsImdldENvbnRleHQiLCJtYXRyaXhIZWxwZXIiLCJjdXJyZW50RnJhbWUiLCJhbmltYXRpb25Db3VudCIsImFnZW50Q291bnQiLCJwYXVzZWQiLCJzZXREZWZhdWx0VmFsdWVzIiwidGV4dEl0ZXIiLCJ0ZXh0Q3VyciIsInRleHROZXciLCJ0ZXh0WCIsInRleHRZIiwiaW5pdCIsImNsZWFyUmVjdCIsInVwZGF0ZUdsb2JhbFBhcmFtcyIsImluaXRpYWxpemVBZ2VudHMiLCJhbmltYXRpb25JbnRlcnZhbElkIiwicmVzZXQiLCJmdWxsIiwiY2xlYXJJbnRlcnZhbCIsInN0b3BUaW1lciIsInN0b3AiLCJkZWZhdWx0UGFyYW1zIiwicm91bmQiLCJzcXJ0IiwiT2JqZWN0Iiwia2V5cyIsImtleSIsIndpbmRvdyIsIk51bWJlciIsImFsbFVJIiwidmFsdWUiLCJwbGFjZWhvbGRlciIsImRlbnNpdHkiLCJhbnRDb3VudCIsImFnZW50cyIsImZpbGxTdHlsZSIsImZpbGxSZWN0Iiwic3RhcnRTaW11bGF0aW9uIiwiY29uc29sZSIsImxvZyIsImV2ZW50cyIsImVtaXQiLCJ2aXN1YWxpc2F0aW9uIiwidGltZXIiLCJzZXRJbnRlcnZhbCIsImFuaW1hdGVNb3ZlcyIsImJpbmQiLCJzZXRUaW1lb3V0Iiwibm9BbmltYXRpb25Nb3ZlcyIsInN0YXJ0IiwiRGF0ZSIsIm5vdyIsIml0ZXJhdGlvbnMiLCJhZ2VudCIsIm51bUFudE1vdiIsInVuZGVmaW5lZCIsInZhbCIsInVwZGF0ZVBoZXJvbW9uZUxldmVsIiwibG9hZGluZ0JhciIsImVsYXBzZWRUaW1lIiwiY3JlYXRlQmluYXJ5SW1hZ2UiLCJzdW1QaGVyb21vbmUiLCJuZXdQaGVyb21vbmVMZXZlbCIsInJvUEV2UmF0ZSIsIlJlc3VsdHNHYWxsZXJ5IiwicmVzdWx0RGl2IiwiaW5pdEdhbGxlcnlDb250cm9scyIsInJlc3VsdERpdk92ZXJsYXlzIiwibGVmdEFycm93IiwicmlnaHRBcnJvdyIsIml0ZW1Db3VudCIsInBhcmFtRGV0YWlsc0J1dHRvbiIsInBhcmFtRGV0YWlscyIsInBhcmFtRGV0YWlsc0Nsb3NlQnV0dG9uIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImlubmVySFRNTCIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcmV2UGFnZSIsIm5leHRQYWdlIiwidG9nZ2xlUGFyYW1zUGFuZWwiLCJidWZmZXIiLCJVaW50OENsYW1wZWRBcnJheSIsImJpbmFyeUNhbnZhcyIsImJpbkN0eCIsInZhbHVlUkdCIiwicG9zIiwiaWRhdGEiLCJjcmVhdGVJbWFnZURhdGEiLCJkYXRhIiwic2V0IiwicHV0SW1hZ2VEYXRhIiwibGFzdENoaWxkIiwic3R5bGUiLCJvcGFjaXR5IiwiYWRkVG9HYWxsZXJ5IiwiY2hpbGRFbGVtZW50Q291bnQiLCJpdGVtIiwiY2hpbGRyZW4iLCJhcHBlbmRDaGlsZCIsInBhZ2VzIiwiY3VycmVudFBhZ2UiLCJzYXZlUGFyYW1zIiwidXBkYXRlUHJldmlldyIsInNob3dDb250cm9scyIsImNoaWxkQ291bnQiLCJkaXNwbGF5IiwicHJldmlvdXNQYWdlIiwibG9hZFBhcmFtcyIsInBhcmFtc1RvU2F2ZSIsInZhbHVlcyIsImVsZW1lbnQiLCJlbGVtZW50T2JqIiwiaWQiLCJuYW1lIiwic2F2ZWRQYXJhbXMiLCJzcGFuIiwiYWN0aW9uIiwiaW5pdEdsb2JhbHMiLCJib2R5IiwidXBsb2FkZXIiLCJpbWFnZVByZXZpZXciLCJjYW52YXNCZyIsImRyYXdJbWFnZUJ1dHRvbiIsInN0YXJ0U2ltdWxhdGlvbkJ1dHRvbiIsInNldERlZmF1bHRzQnV0dG9uIiwibG9hZGluZ1B1bHNlIiwic3lzSW5mb1BhbmVsIiwic2ltU2V0dGluZ3NQYW5lbCIsImxlZ2VuZCIsInByb2Nlc3NQYXJhbXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwicGVyZm9ybWFuY2VEaXNjbGFpbWVyIiwicHVzaEJhY2tTY3JlZW4iLCJkb3dubG9hZEJ1dHRvbiIsImVudkltYWdlIiwiYWxnb3JpdGhtIiwidXBsb2FkZWRZZXQiLCJpbnB1dHNDaGFuZ2VkIiwiZHJhd0ltYWdlQnV0dG9uRGVmYXVsdFRleHQiLCJkcmF3SW1hZ2VCdXR0b25BY3RpdmVUZXh0IiwiY2xpZW50SGVpZ2h0IiwidG9nZ2xlVmlzRWxlbSIsImRpc2FibGVJbnB1dHMiLCJmaWxlIiwiZmlsZXMiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwicmVhZEFzRGF0YVVSTCIsInJlbW92ZUF0dHJpYnV0ZSIsImJsdXIiLCJFbnZpcm9ubWVudEltYWdlIiwidXNlcklucHV0RXZlbnRIYW5kbGVyIiwidG9nZ2xlRGVmYXVsc0J1dHRvbiIsImUiLCJ0YXJnZXQiLCJjdXJyZW50Q2FudmFzIiwiZGF0YVVSTCIsInRvRGF0YVVSTCIsImRvd25sb2FkIiwiaHJlZiIsIm9uIiwiZGlzYWJsZUJ1dHRvbnMiLCJyZXNldEluZm9TdGF0cyIs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LFVBQS9CLEVBQTJDLFVBQTNDO0FBQ1I7O0FBRUQsU0FBU3dGLGNBQVQsR0FBMEI7QUFDdEI7QUFDQSxPQUFLLElBQUlsRSxJQUFULElBQWlCaUMsYUFBakIsRUFBZ0M7QUFDNUJqQyxRQUFJLENBQUNuRSxLQUFMLEdBQWEsQ0FBYjtBQUNIOztBQUNENEIsOEJBQVUsQ0FBQyxDQUFELEVBQUksR0FBSixDQUFWO0FBQ0FDLGFBQVcsQ0FBQzdCLEtBQVosR0FBb0IsT0FBcEI7QUFDQW1HLFFBQU0sQ0FBQ3BDLEtBQVAsQ0FBYWEsT0FBYixHQUF1QixNQUF2QjtBQUNIOztBQUVELFNBQVN3RCxjQUFULEdBQTBCO0FBQ3RCO0FBQ0F2QyxpQkFBZSxDQUFDaEQsWUFBaEIsQ0FBNkIsVUFBN0IsRUFBeUMsVUFBekM7QUFDQWlELHVCQUFxQixDQUFDakQsWUFBdEIsQ0FBbUMsVUFBbkMsRUFBK0MsVUFBL0M7QUFDQW1FLGVBQWEsQ0FBQ25FLFlBQWQsQ0FBMkIsVUFBM0IsRUFBdUMsVUFBdkM7QUFDSCIsImZpbGUiOiI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBZ2VudCBvYmplY3QgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBbnRBZ2VudCB7XG4gICAgY29uc3RydWN0b3IoY2FudmFzLCBjb29yZGluYXRlcykge1xuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICAgICAgdGhpcy5zdGFydFBvc3RpdGlvbiA9IGNvb3JkaW5hdGVzOyAvLyB4LHkgY29vcmRpbmF0ZXMgZnJvbSBhY28tYWxnb3JpdGhtLmpzXG4gICAgICAgIHRoaXMuY3VycmVudENvb3JkaW5hdGVzID0gdGhpcy5zdGFydFBvc3RpdGlvbjtcbiAgICAgICAgdGhpcy5wcmV2aW91c0Nvb3JkaW5hdGVzID0gW107IC8vIHVzZWQgdG8gc3RvcmUgcHJldmlvdXJzIGNvb3JkaW5hdGVzXG4gICAgICAgIHRoaXMuYWdlbnRTaXplID0gMTsgLy8gdGhlIGFnZW50IHNpemUgb24gdGhlIGNhbnZhcyAoMSBwaXhlbCBmb3IgYWNjdXJhY3kpXG4gICAgfVxuXG4gICAgZ2V0UmFuZG9tUG9zaXRpb24oKSB7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSBhIHJhbmRvbSBwb3NpdGlvbiBmb3IgYW4gYWdlbnQgb24gdGhlIGNhbnZhc1xuICAgICAgICBjb25zdCB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5jYW52YXMud2lkdGgpO1xuICAgICAgICBjb25zdCB5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZGVwb3NpdFBoZXJvbW9uZShjb29yZGluYXRlcykge1xuICAgICAgICAvLyBkZXBvc2l0IHBoZXJvbW9uZSBhdCBwYXNzZWQgcGl4ZWxcbiAgICAgICAgLy8gdGhlIHBhc3NlZCBjb29yZGluYXRlcyBhcmUgdGhlIGN1cnJlbnQgYW5kIHRoZSBqdXN0IHBhc3NlZCBvbmVzXG5cbiAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBtZWRpYW4gaW50ZW5zaXRpZXMgb2YgdGhlIGN1cmVudCBub2RlIGFuZCB0aGUgcGFzc2VkIG5vZGUgYXMgd2VsbCBhcyB0aGUgbm9kZXMgZnJvbSB0aGVpciBuZWlnaGJvdXJob29kcyBcbiAgICAgICAgY29uc3QgbWVkaWFucyA9IFtdO1xuICAgICAgICBjb29yZGluYXRlcy5mb3JFYWNoKHBpeGVsID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1hdHJpeFNpemUgPSBwaGVyb21vbmVNYXRyaXgubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgICB4ID0gcGl4ZWwueCxcbiAgICAgICAgICAgICAgICB5ID0gcGl4ZWwueSxcbiAgICAgICAgICAgICAgICBuZWlnaGJvdXJJbnRlbnNpdGllcyA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gLTE7IGkgPD0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IC0xOyBqIDw9IDE7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAvLyBjYW52YXMgYm91bmRzXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdE91dE9mQm91bmRzID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHggKyBpID4gLTEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHggKyBpIDwgbWF0cml4U2l6ZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgeSArIGogPiAtMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgeSArIGogPCBtYXRyaXhTaXplO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGdldCB0aGUgbmVpZ2hib3VyaG9vZCBpbnRlbnNpdHkgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgIGlmIChub3RPdXRPZkJvdW5kcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmVpZ2hib3VySW50ZW5zaXRpZXMucHVzaChoZXVyaXN0aWNNYXRyaXhbeCArIGldW3kgKyBqXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZWRpYW5zLnB1c2godGhpcy5jYWxjTWVkaWFuKG5laWdoYm91ckludGVuc2l0aWVzKSk7IC8vIGNhbGN1bGF0ZSBtZWRpYW5zXG4gICAgICAgIH0pO1xuICAgICAgICAvL2NhbGN1bGF0ZSB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSB0d28gbWVkaWFuIGludGVuc2l0aWVzIFxuICAgICAgICBjb25zdCBtZWREaWZmID0gbWVkaWFuc1swXSAtIG1lZGlhbnNbMV07XG5cbiAgICAgICAgLy8gY2FsY3VsYXRlIHBoZXJvbW9uZSBkZXBvc2l0aW9uIGF0IG5vZGVcbiAgICAgICAgLy8gYmFzZWQgb24gZXF1YXRpb24gMSBmcm9tIFJpY2FyZG8gQ29udHJlcmFzIGV0IGFsLidzICgyMDEzKSBhcnRpY2xlXG4gICAgICAgIHBoZXJvbW9uZU1hdHJpeFtjb29yZGluYXRlc1swXS54XVtjb29yZGluYXRlc1swXS55XSArPSAoaGV1cmlzdGljTWF0cml4W2Nvb3JkaW5hdGVzWzBdLnhdW2Nvb3JkaW5hdGVzWzBdLnldID49IHROb2lzZUZpbHQpID8gbkNvbnN0UEQgKyAocENvbnN0UEQgKiBtZWREaWZmKSAvIDI1NSA6IDA7XG4gICAgfVxuXG4gICAgY2FsY01lZGlhbihhcnIpIHtcbiAgICAgICAgLy8gY2FsY3VsYXRlIG1lZGlhbnNcbiAgICAgICAgY29uc3QgbWlkID0gTWF0aC5mbG9vcihhcnIubGVuZ3RoIC8gMiksXG4gICAgICAgICAgICBudW1zID0gWy4uLmFycl0uc29ydCgoYSwgYikgPT4gYSAtIGIpO1xuICAgICAgICByZXR1cm4gYXJyLmxlbmd0aCAlIDIgIT09IDAgPyBudW1zW21pZF0gOiAobnVtc1ttaWQgLSAxXSArIG51bXNbbWlkXSkgLyAyO1xuICAgIH1cblxuICAgIGNhbGN1bGF0ZU5leHRTdGVwKCkge1xuICAgICAgICAvLyBnZXQgdGhlIG5leHQgc3RlcCBhbiBhbnQgc2hvdWxkIG1vdmUgdG9cblxuICAgICAgICBsZXQgY3VycmVudE1heFByb2JhYmlsaXR5ID0gMCxcbiAgICAgICAgICAgIG1heFByb2JhYmlsaXR5SW5kZXggPSAwLFxuICAgICAgICAgICAgc3VtUHJvZHVjdHMgPSAwLFxuICAgICAgICAgICAgdmlzaXRlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIHBoUHJvZHVjdHMgc3RhbmRzIGZvciBhcnJheSBvZiBwaGVyb21vbmUgYW5kIGhldXJpc3RpYyBwcm9kdWN0c1xuICAgICAgICAvLyBwQ0xlbiBzdGFuZHMgZm9yIHRoZSBsZW5ndGggb2YgdGhlIHByZXZpb3VzIGNvb3JkaW5hdGVzIGFycmF5XG4gICAgICAgIGNvbnN0IHBoUHJvZHVjdHMgPSBbXSxcbiAgICAgICAgICAgIG5laWdoYm91ck5vZGVDb29yZGluYXRlcyA9IFtdLFxuICAgICAgICAgICAgeCA9IHRoaXMuY3VycmVudENvb3JkaW5hdGVzLngsXG4gICAgICAgICAgICB5ID0gdGhpcy5jdXJyZW50Q29vcmRpbmF0ZXMueSxcbiAgICAgICAgICAgIG1hdHJpeFNpemUgPSBwaGVyb21vbmVNYXRyaXgubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgIHBDTGVuID0gdGhpcy5wcmV2aW91c0Nvb3JkaW5hdGVzLmxlbmd0aDtcblxuICAgICAgICAvLyBmaW5kIHRoZSBwaGVyb21vbmUgYW5kIGhldXJpc3RpYyBwcm9kdWN0XG4gICAgICAgIGZvciAobGV0IGkgPSAtMTsgaSA8PSAxOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAtMTsgaiA8PSAxOyBqKyspIHtcbiAgICAgICAgICAgICAgICAvLyBjYW52YXMgYm91bmRzXG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0T2ZCb3VuZHMgPVxuICAgICAgICAgICAgICAgICAgICB4ICsgaSA+IC0xICYmIHggKyBpIDwgbWF0cml4U2l6ZSAmJiB5ICsgaiA+IC0xICYmIHkgKyBqIDwgbWF0cml4U2l6ZTtcbiAgICAgICAgICAgICAgICB2aXNpdGVkID0gZmFsc2U7IC8vIGtlZXAgdHJhY2sgb2YgdmlzaXRlZCBub2Rlc1xuXG4gICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHZhbHVlcyBmb3IgYWxsIG5vZGVzIGJ1dCB0aGUgY3VycmVudCBvbmVcbiAgICAgICAgICAgICAgICBpZiAoaSAhPT0gMCAmJiBqICE9PSAwICYmIG91dE9mQm91bmRzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNlZSBpZiBhIHBpeGVsIGlzIHZpc2l0ZWQgYnkgY2hlY2tpbmcgdGhlIHNhdmVkIG5vZGVzIGluIHRoZSBhbnQncyBtZW1vcnlcbiAgICAgICAgICAgICAgICAgICAgLy8gYW50TWVtTGVuIGRlZmluZXMgaG93IGZhciBiYWNrIGludG8gdGhlIGFudHMgbWVtb3J5IHNob3VsZCBiZSBjaGVja2VkXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAxOyBrIDwgKGFudE1lbUxlbiA+IHBDTGVuID8gcENMZW4gOiBhbnRNZW1MZW4pOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGEgbm9kZSBpcyB2aXNpdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91c0Nvb3JkaW5hdGVzW3BDTGVuIC0ga10ueCA9PT0geCArIGkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXZpb3VzQ29vcmRpbmF0ZXNbcENMZW4gLSBrXS55ID09PSB5ICsgalxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaXRlZCA9IHRydWU7IC8vIG1hcmsgYXMgdmlzaXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGsgPSBhbnRNZW1MZW4gKyAxOyAvLyBleGl0IHRoZSBsb29wIHRvIHByZXZlbnQgYWdlbnQgbG9vcGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghdmlzaXRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBwcm9kdWN0IG9mIHRoZSBwaGVyb21vbmUgYW5kIGhldXJpc3RpY1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYmFzZWQgb24gZXF1YXRpb24gNCBmcm9tIExpdSBhbmQgRmFuZydzICgyMDE1KSBhcnRpY2xlIFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdFZhbHVlID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLnBvdyhwaGVyb21vbmVNYXRyaXhbeCArIGldW3kgKyBqXSwgYWxwaGEpICpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLnBvdyhoZXVyaXN0aWNNYXRyaXhbeCArIGldW3kgKyBqXSwgYmV0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwaFByb2R1Y3RzLnB1c2gocHJvZHVjdFZhbHVlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy9maW5kIHRoZSBzdW0gb2YgYWxsIHByb2R1Y3RzIGZyb20gdGhlIG5laWdoYm91cmhvb2RcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1bVByb2R1Y3RzICs9IHByb2R1Y3RWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBoUHJvZHVjdHMucHVzaChcInZpc2l0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gc2F2ZSBhbGwgbmVpZ2hib3VyaG9vZCBjb29yZGluYXRlcyBvZiBhIHBpeGVsIFxuICAgICAgICAgICAgICAgICAgICBuZWlnaGJvdXJOb2RlQ29vcmRpbmF0ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB4OiB4ICsgaSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IHkgKyBqXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vZmluZCB0aGUgbWF4aW11bSBwcm9iYWJpbGl0eSBmb3IgbmV4dCBtb3ZlXG4gICAgICAgIHBoUHJvZHVjdHMuZm9yRWFjaCgocHJvZHVjdCwgaSkgPT4ge1xuICAgICAgICAgICAgLy9jaGVjayBpZiBub3QgdGhlIHByZXZpb3VzIHBpeGVsXG4gICAgICAgICAgICBsZXQgbm90UHJldmlvdXMgPSBwcm9kdWN0ICE9PSBcInZpc2l0ZWRcIjtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9XG4gICAgICAgICAgICAgICAgc3VtUHJvZHVjdHMgIT09IDAgJiYgbm90UHJldmlvdXMgPyBNYXRoLmFicyhwcm9kdWN0IC8gc3VtUHJvZHVjdHMpIDogMDtcblxuICAgICAgICAgICAgLy8gY2hlY2sgaWYgdGhlIHJlc3VsdCBpcyBiaWdnZXIgdGhhbiB0aGUgbm9pc2UgZmlsdGVyXG4gICAgICAgICAgICBpZiAocmVzdWx0ID49IHROb2lzZUZpbHQpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ID4gY3VycmVudE1heFByb2JhYmlsaXR5ICYmIG5vdFByZXZpb3VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRNYXhQcm9iYWJpbGl0eSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgbWF4UHJvYmFiaWxpdHlJbmRleCA9IGk7IC8vIHNldCB0aGUgaW5kZXggb2YgdGhlIG5laWdoYm91ciB3aXRoIGhpZ2hlc3QgaW50ZW5zaXR5XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBjaGVjayBpZiB0aGVyZSBpcyBubyBoaWdoIHByb2JhYmlsaXR5IGFuZCByZXNwYXduIGFudFxuICAgICAgICBpZiAoY3VycmVudE1heFByb2JhYmlsaXR5ID09PSAwKSB7XG4gICAgICAgICAgICBtYXhQcm9iYWJpbGl0eUluZGV4ID0gOTk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXNwYXduIGFudFxuICAgICAgICBpZiAobWF4UHJvYmFiaWxpdHlJbmRleCA9PT0gOTkpIHtcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNDb29yZGluYXRlcyA9IFtdOyAvLyByZXNldCBhbnQncyBtZW1vcnlcbiAgICAgICAgICAgIGNvbnN0IG5ld1Bvc2l0aW9ucyA9IHRoaXMuZ2V0UmFuZG9tUG9zaXRpb24oKTsgLy8gZ2V0IG5ldyByYW5kb20gY29vcmRpbmF0ZXMgZm9yIHRoZSBhbnQncyBuZXcgcG9zaXRpb25cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbmV3Q29vcmRpbmF0ZXM6IG5ld1Bvc2l0aW9ucyxcbiAgICAgICAgICAgICAgICBuZXdBbnQ6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSByZXR1cm4ge1xuICAgICAgICAgICAgbmV3Q29vcmRpbmF0ZXM6IG5laWdoYm91ck5vZGVDb29yZGluYXRlc1ttYXhQcm9iYWJpbGl0eUluZGV4XSxcbiAgICAgICAgICAgIG5ld0FudDogZmFsc2VcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBtb3ZlVG8oY29vcmRpbmF0ZXMsIG5ld0FudCkge1xuICAgICAgICAvLyBtb3ZlIGFudCB0byBhIG5ldyBsb2NhdGlvblxuXG4gICAgICAgIC8vIGNoZWNrIGlmIGFudCBpcyBub3QgcmVzcGF3bmVkXG4gICAgICAgIGlmICghbmV3QW50KSB7XG4gICAgICAgICAgICB0aGlzLmRlcG9zaXRQaGVyb21vbmUoW3RoaXMuY3VycmVudENvb3JkaW5hdGVzLCBjb29yZGluYXRlc10pO1xuICAgICAgICAgICAgdGhpcy5wcmV2aW91c0Nvb3JkaW5hdGVzLnB1c2godGhpcy5jdXJyZW50Q29vcmRpbmF0ZXMpO1xuICAgICAgICB9IGVsc2UgdGhpcy5wcmV2aW91c0Nvb3JkaW5hdGVzID0gW107XG4gICAgICAgIHRoaXMuY3VycmVudENvb3JkaW5hdGVzID0gY29vcmRpbmF0ZXM7IC8vIG1vdmUgYW50IHRvIG5ldyBjb29yZGluYXRlc1xuICAgIH1cbn1cbiIsIi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0cmljZXMgaGVscGVyIGZ1bmN0aW9ucyAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWF0cml4SGVscGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5pTWF4ID0gaW1hZ2VJbnRlbnNpdHlBcnJheTFkLnJlZHVjZSgoYSwgYikgPT4gYSArIGIpIC8gaW1hZ2VJbnRlbnNpdHlBcnJheTFkLmxlbmd0aDsgLy8gZ2V0IHRoZSBtZWFuIHZhbHVlXG4gICAgfVxuXG4gICAgZ2VuZXJhdGVJbml0aWFsTWF0cmljZXMoKSB7XG4gICAgICAgIC8vIGNvbnN0cnVjdCB0aGUgaW5pdGlhbCBtYXRyaWNlcyAoMmQgYXJyYXlzKVxuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IGNhbnZhc0hlaWdodDsgeCsrKSB7XG4gICAgICAgICAgICBwaGVyb21vbmVNYXRyaXhbeF0gPSBbXTtcbiAgICAgICAgICAgIGhldXJpc3RpY01hdHJpeFt4XSA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCBjYW52YXNXaWR0aDsgeSsrKSB7XG4gICAgICAgICAgICAgICAgcGhlcm9tb25lTWF0cml4W3hdW3ldID0gaW5pdGlhbFBoZXJvbW9uZVZhbHVlO1xuICAgICAgICAgICAgICAgIGhldXJpc3RpY01hdHJpeFt4XVt5XSA9IHRoaXMuaGV1cmlzdGljSW5mb3JtYXRpb25Gb3JQaXhlbCh4LCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBGT1IgREVCVUdHSU5HIDogSGV1cmlzdHVjIG1hdHJpeFxuICAgICAgICAvLyBjb25zb2xlLmxvZygnJWMgaGV1cmlzdGljTWF0cml4JywgJ2NvbG9yOiAjMjRjOTVhJywgaGV1cmlzdGljTWF0cml4KTsgLy8gcHJpbnQgdGhlIG1hdHJpeCBpbiB0aGUgY29uc29sZVxuICAgIH1cblxuICAgIHJlc2V0UGhlcm9tb25lTWF0cml4KCkge1xuICAgICAgICAvLyByZXNldCB0aGUgcGhlcm9tb25lIG1hdHJpeCB0byBpdHMgaW5pdGlhbCBzdGF0ZVxuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IGNhbnZhc0hlaWdodDsgeCsrKSB7XG4gICAgICAgICAgICBwaGVyb21vbmVNYXRyaXhbeF0gPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgY2FudmFzV2lkdGg7IHkrKykge1xuICAgICAgICAgICAgICAgIHBoZXJvbW9uZU1hdHJpeFt4XVt5XSA9IGluaXRpYWxQaGVyb21vbmVWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhldXJpc3RpY0luZm9ybWF0aW9uRm9yUGl4ZWwoeCwgeSkge1xuICAgICAgICAvLyBnZXQgdGhlIGhldXJpc3RpYyBpbmZvcm1hdGlvbiBmb3IgYSBnaXZlbiBwaXhlbFxuICAgICAgICByZXR1cm4gKDEgLyB0aGlzLmlNYXgpICogKHRoaXMuZ2V0TWF4SW50ZW5zaXR5VmFsdWVGb3JQaXhlbCh4LCB5KSk7XG4gICAgfVxuXG4gICAgZ2V0TWF4SW50ZW5zaXR5VmFsdWVGb3JQaXhlbCh4LCB5KSB7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSBoZXVyaXN0aWMgaW5mb3JtYXRpb24gZm9yIGEgcGl4ZWwgZ2l2ZW4gaXRzIDV4NSBuZWlnaGJvdXJob29kXG4gICAgICAgIC8vIGJhc2VkIG9uIGVxdWF0aW9uIDUgZnJvbSBMaXUgYW5kIEZhbmcncyAoMjAxNSkgYXJ0aWNsZSBcbiAgICAgICAgY29uc3QgYXJyTGVuZ3RoID0gaW1hZ2VJbnRlbnNpdHlBcnJheS5sZW5ndGggLSAxO1xuICAgICAgICBjb25zdCBuZWlnaGJvdXJob29kSW50ZW5zaXRpZXMgPSBbXTtcblxuICAgICAgICAvLyBsb29wIHRocm91Z2ggdGhlIHdob2xlIDV4NSBuZWlnaGJvdXJob29kXG4gICAgICAgIGZvciAobGV0IHUgPSAwOyB1IDw9IDI7IHUrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgdiA9IC0yOyB2IDw9IDI7IHYrKykge1xuICAgICAgICAgICAgICAgIC8vIGJvdW5kIGxpbWl0c1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvdW5kWCA9ICh4ID4gMSA/ICgoeCA8IGFyckxlbmd0aCAtIDEpPyB1IDogMCkgOiAwKTtcbiAgICAgICAgICAgICAgICBjb25zdCBib3VuZFkgPSAoeSA+IDEgPyAoKHkgPCBhcnJMZW5ndGggLSAxKT8gdiA6IDApIDogMCk7XG4gICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHZhbHVlcyBiYXNlZCBvbiB0aGUgbWlycm9yIHByaW5jaXBsZVxuICAgICAgICAgICAgICAgIG5laWdoYm91cmhvb2RJbnRlbnNpdGllcy5wdXNoKE1hdGguYWJzKGltYWdlSW50ZW5zaXR5QXJyYXlbeCAtIGJvdW5kWF1beSAtIGJvdW5kWV0gLSBpbWFnZUludGVuc2l0eUFycmF5W3ggKyBib3VuZFhdW3kgKyBib3VuZFldKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KC4uLm5laWdoYm91cmhvb2RJbnRlbnNpdGllcyk7IC8vIGdldCB0aGUgbWF4aW11bSBpbnRlbnNpdHkgdmFsdWUgZnJvbSB0aGUgcGl4ZWwncyBuZWlnaGJvdXJob29kXG4gICAgfVxufVxuIiwiLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgQUNPIGFsZ29yaXRobSBtYWluIGZpbGUgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gSW1wb3J0cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5pbXBvcnQgQW50QWdlbnQgZnJvbSBcIi4vYWdlbnRcIjtcbmltcG9ydCBNYXRyaXhIZWxwZXIgZnJvbSAnLi4vLi4vaGVscGVycy9tYXRyaXgtaGVscGVyJztcbmltcG9ydCB7XG4gICAgbG9hZGluZ0JhcixcbiAgICBlbGFwc2VkVGltZSxcbiAgICB0aW1lcixcbiAgICBzdG9wVGltZXJcbn0gZnJvbSAnLi4vLi4vaGVscGVycy9leHRyYXMnO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBQ08ge1xuICAgIGNvbnN0cnVjdG9yKGltYWdlLCByZXN1bHRzR2FsbGVyeSkge1xuXG4gICAgICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBHZXQgZW52aXJvbm1lbnQgc2V0dGluZ3MgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgICAgICAgdGhpcy5pbWFnZSA9IGltYWdlOyAvLyBnZXQgdXBsb2FkZWQgaW1hZ2UgaW5mb3JtYXRpb25cbiAgICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2FudmFzRmcnKTsgLy8gZ2V0IHRoZSBkcmF3aW5nIGxheWVyIG9mIHRoZSBjYW52YXMgdG8gcHJlc2VydmUgdGhlIGJhY2tncm91bmRcbiAgICAgICAgdGhpcy5jYW52YXNXID0gdGhpcy5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7IC8vIGdldCB0aGUgY2FudmFzIHdpZHRoXG4gICAgICAgIHRoaXMuY2FudmFzSCA9IHRoaXMuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDsgLy8gZ2V0IHRoZSBjYW52YXMgaGVpZ2h0XG4gICAgICAgIHRoaXMuY2FudmFzQXJlYSA9IHRoaXMuY2FudmFzVyAqIHRoaXMuY2FudmFzSDsgLy8gZ2V0IGNhbnZhcyBhcmVhXG4gICAgICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpOyAvLyBnZXQgdGhlIGNhbnZhcyBjb250ZXh0XG5cbiAgICAgICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gR2V0IGV4dGVybmFsIGNsYXNzZXMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAgICAgICB0aGlzLm1hdHJpeEhlbHBlciA9IG5ldyBNYXRyaXhIZWxwZXI7IC8vIGluaXRpYWxpc2UgdGhlIG1hdHJpeCBoZWxwZXIgXG4gICAgICAgIHRoaXMucmVzdWx0c0dhbGxlcnkgPSByZXN1bHRzR2FsbGVyeTsgLy8gZ2V0IHRoZSBhbHJlYWR5IGluaXRpYWxpc2VkIHJlc3VsdHMgZ2FsbGVyeSBjbGFzcyBmcm9tIGFwcC5qc1xuXG4gICAgICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLSBWaXN1YWxpc2F0aW9uIGNvbnRyb2wgdmFyaWFibGVzIC0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgICAgICAgdGhpcy5jdXJyZW50RnJhbWUgPSAxOyAvLyBzZXQgdGhlIGN1cnJlbnQgZnJhbWUgb2YgdGhlIGFuaW1hdGlvbiBsb29wXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uQ291bnQgPSAwOyAvLyBzZXQgdGhlIGFuaW1hdGlvbiBzdGVwIG9mIGFuIGFudFxuICAgICAgICB0aGlzLmFnZW50Q291bnQgPSAwOyAvLyBzZXQgdGhlIGN1cnJlbnRseSBkcmF3biBhZ2VudFxuICAgICAgICB0aGlzLnBhdXNlZCA9IGZhbHNlOyAvLyB0cnVlIGlmIHRoZSBhbGdvcml0aG0gaXMgcGF1c2VkXG5cbiAgICAgICAgLyogLS0tLS0tLS0tLS0tIEdlbmVyYXRlIGluaXRpYWwgcGhlcm9tb25lIGFuZCBoZXVyaXN0aWMgbWF0cmljZXMgLS0tLS0tLS0tLS0gKi9cblxuICAgICAgICB0aGlzLm1hdHJpeEhlbHBlci5nZW5lcmF0ZUluaXRpYWxNYXRyaWNlcygpOyAvLyBnZW5lcmF0ZSB0aGUgaW5pdGlhbCBtYXRyaWNlc1xuXG4gICAgICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tIFNldCBkZWZhdWx0IHVzZXIgaW5wdXQgdmFsdWVzIGZvciBpbWFnZSAtLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgICAgICAgdGhpcy5zZXREZWZhdWx0VmFsdWVzKCkgLy8gc2V0IGRlZmF1bHQgdmFsdWVzIGZvciB0aGUgcGFyYW1ldGVyc1xuXG4gICAgICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gU2ltdWxhdGlvbiBzdGF0cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgICAgICAgdGhpcy50ZXh0SXRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpdGVyLXRleHQnKTsgLy8gY3VycmVudCBpdGVyYXRpb25cbiAgICAgICAgdGhpcy50ZXh0Q3VyciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhbnQtdGV4dCcpOyAvLyBjdXJyZW50IGFudFxuICAgICAgICB0aGlzLnRleHROZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3RlcC10ZXh0Jyk7IC8vIGN1cnJlbnQgc3RlcFxuICAgICAgICB0aGlzLnRleHRYID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3gtdGV4dCcpOyAvLyBjdXJyZW50IHggY29vcmRpbmF0ZVxuICAgICAgICB0aGlzLnRleHRZID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3ktdGV4dCcpOyAvLyBjdXJyZW50IHkgY29vcmRpbmF0ZVxuICAgIH1cblxuICAgIGluaXQoKSB7XG4gICAgICAgIC8vIGluaXRpYWxpc2UgLSBjYWxsZWQgd2hlbiBhbiBpbWFnZSBpcyB1cGxvYWRlZFxuICAgICAgICB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXNXLCB0aGlzLmNhbnZhc0gpOyAvLyByZWZyZXNoIGNhbnZhc1xuICAgICAgICB0aGlzLnVwZGF0ZUdsb2JhbFBhcmFtcygpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVBZ2VudHMoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50RnJhbWUgPSAxO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbkludGVydmFsSWQgPSBudWxsO1xuICAgIH1cblxuICAgIHJlc2V0KGZ1bGwpIHtcbiAgICAgICAgLy8gcmVzZXQgdGhlIGFsZ29yaXRobVxuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuYW5pbWF0aW9uSW50ZXJ2YWxJZCk7IC8vIHN0b3AgdGhlIGFuaW1hdGlvbiBsb29wXG4gICAgICAgIHN0b3BUaW1lcigpOyAvLyBzdG9wIGVsYXBzZWQgdGltZSB0aW1lclxuICAgICAgICB0aGlzLm1hdHJpeEhlbHBlci5yZXNldFBoZXJvbW9uZU1hdHJpeCgpOyAvLyByZXNldCBwaGVyb21vbmUgbWF0cml4XG4gICAgICAgIHRoaXMucGF1c2VkID0gZmFsc2U7XG4gICAgICAgIGlmIChmdWxsID09PSAnZnVsbCcpIHtcbiAgICAgICAgICAgIC8vIHJlc2V0IGZ1bGx5IC0gdXNlZCB3aGVuIGltYWdlIGlzIGNoYW5nZWRcbiAgICAgICAgICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhc1csIHRoaXMuY2FudmFzSCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRGcmFtZSA9IDE7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbkludGVydmFsSWQgPSBudWxsO1xuICAgICAgICB9IGVsc2UgdGhpcy5pbml0KCk7XG4gICAgfVxuXG4gICAgc3RvcCgpIHtcbiAgICAgICAgLy8gcGF1c2UgZnVuY3Rpb25hbGl0eVxuICAgICAgICB0aGlzLnBhdXNlZCA9IHRydWU7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5hbmltYXRpb25JbnRlcnZhbElkKTtcbiAgICAgICAgc3RvcFRpbWVyKCdwYXVzZScpOyAvLyBwYXVzZSBlbGFwc2VkIHRpbWUgdGltZXJcbiAgICB9XG5cbiAgICBzZXREZWZhdWx0VmFsdWVzKCkge1xuICAgICAgICAvL3NldHMgdGhlIGRlZmF1bHQgYWxnb3JpdGhtIHBhcmFtZXRlciB2YWx1ZXNcbiAgICAgICAgdGhpcy5kZWZhdWx0UGFyYW1zID0ge1xuICAgICAgICAgICAgJ2l0ZXJhdGlvbnMnOiAzLFxuICAgICAgICAgICAgJ2FudENvdW50JzogTWF0aC5yb3VuZChNYXRoLnNxcnQodGhpcy5pbWFnZS53aWR0aCAqIHRoaXMuaW1hZ2UuaGVpZ2h0KSksXG4gICAgICAgICAgICAnbnVtQW50TW92JzogTWF0aC5yb3VuZChNYXRoLnJvdW5kKDMgKiBNYXRoLnNxcnQodGhpcy5pbWFnZS53aWR0aCAqIHRoaXMuaW1hZ2UuaGVpZ2h0KSkpLFxuICAgICAgICAgICAgJ2FudE1lbUxlbic6IE1hdGgucm91bmQoTWF0aC5zcXJ0KDIgKiAodGhpcy5pbWFnZS53aWR0aCArIHRoaXMuaW1hZ2UuaGVpZ2h0KSkpLFxuICAgICAgICAgICAgJ25Db25zdFBEJzogMixcbiAgICAgICAgICAgICdwQ29uc3RQRCc6IDEwLFxuICAgICAgICAgICAgJ3ROb2lzZUZpbHQnOiAwLjEsXG4gICAgICAgICAgICAncm9QRXZSYXRlJzogMC4wMixcbiAgICAgICAgICAgICdhbHBoYSc6IDIsXG4gICAgICAgICAgICAnYmV0YSc6IDJcbiAgICAgICAgfVxuXG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuZGVmYXVsdFBhcmFtcykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgd2luZG93W2tleV0gPSBOdW1iZXIodGhpcy5kZWZhdWx0UGFyYW1zW2tleV0pOyAvLyBzYXZlIHRoZSBjdXJyZW50bHkgdXNlZCB2YXJzIGdsb2JhbGx5IFxuICAgICAgICAgICAgd2luZG93LmFsbFVJW2tleV0udmFsdWUgPSB3aW5kb3dba2V5XTtcbiAgICAgICAgICAgIHdpbmRvdy5hbGxVSVtrZXldLnBsYWNlaG9sZGVyID0gd2luZG93W2tleV07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1cGRhdGVHbG9iYWxQYXJhbXMoKSB7XG4gICAgICAgIC8vIHVwZGF0ZXMgdGhlIGFsZ29yaXRobSBwYXJhbWV0ZXJzIGFjY29yZGluZyB0byB1c2VyIGlucHV0XG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuZGVmYXVsdFBhcmFtcykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgd2luZG93W2tleV0gPSBOdW1iZXIod2luZG93LmFsbFVJW2tleV0udmFsdWUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpbml0aWFsaXplQWdlbnRzKCkge1xuICAgICAgICBjb25zdCBkZW5zaXR5ID0gTWF0aC5yb3VuZCh0aGlzLmNhbnZhc0FyZWEgLyBhbnRDb3VudCk7IC8vIGNhbGN1bGF0ZXMgZGVuc2l0eSBhdCB3aGljaCBhbnRzIHNob3VsZCBiZSBwb3NpdGlvbmVkXG4gICAgICAgIHRoaXMuYWdlbnRzID0gW107IC8vIGluaXRpYWxpc2UgYWdlbnRzIGFycmF5XG5cbiAgICAgICAgLy8gRk9SIERFQlVHR0lORyA6IFBoZXJvbW9uZSBtYXRyaXhcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCIlYyBwaGVyb21vbmVNYXRyaXhcIiwgXCJjb2xvcjogIzI0Yzk1YVwiLCBwaGVyb21vbmVNYXRyaXgpOyAvL3Nob3cgcGhlcm9tb25lIG1hdHJpeCBpbiBjb25zb2xlIGxvZ1xuXG4gICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IGByZ2JhKDY2LCAzMywgMTIzLCAyNTUpYDsgLy8gc2V0IHN0eWxlIGZvciBhbnQgYWdlbnQgY29sb3VyXG5cbiAgICAgICAgLyogY291bnRzIHRyb3VnaCBhbGwgdGhlIGFnZW50cyBjYWxjdWxhdGVzIGVhY2gncyBwb3NpdGlvbixcbiAgICAgICAgZHJhd3MgdGhlbSBvbiB0aGUgY2FudmFzIGFuZCBhZGRzIHRoZW0gdG8gdGhlIGFycmF5IG9mIGFnZW50cyovXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW50Q291bnQ7IGkrKykge1xuICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHggYW5kIHkgY29vcmRpbmF0ZXMgdG8gZml0IGFudHMgaW4gYSBncmlkLWxpa2Ugc3RydWN0dXJlXG4gICAgICAgICAgICBjb25zdCB4ID0gTWF0aC5mbG9vcihpICogZGVuc2l0eSAvIHRoaXMuY2FudmFzVyk7XG4gICAgICAgICAgICBjb25zdCB5ID0gKGkgKiBkZW5zaXR5KSAtICh4ICogdGhpcy5jYW52YXNXKTtcblxuICAgICAgICAgICAgLy9pbml0aWFsaXNlIGFnZW4gb2JqZWMgd2l0aCBjb29yZGluYXRlZCBjb29yZGluYXRlc1xuICAgICAgICAgICAgdGhpcy5hZ2VudHNbaV0gPSBuZXcgQW50QWdlbnQodGhpcy5jYW52YXMsIHtcbiAgICAgICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgICAgIHk6IHlcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmN0eC5maWxsUmVjdCh0aGlzLmFnZW50c1tpXS5jdXJyZW50Q29vcmRpbmF0ZXMueSwgdGhpcy5hZ2VudHNbaV0uY3VycmVudENvb3JkaW5hdGVzLngsIDIsIDEpOyAvLyBzaG93IGFnZW50cyBvbiB0aGUgY2FudmFzXG4gICAgICAgIH1cblxuICAgICAgICAvLyBGT1IgREVCVUdHSU5HIDogQXJyYXkgb2YgYWdlbnRzXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiJWMgQWdlbnRzXCIsIFwiY29sb3I6ICMyNGM5NWFcIiwgdGhpcy5hZ2VudHMpOyAvLyBzaG93IGxpc3Qgb2YgYWdlbnRzIGluIGNvbnNvbGUgbG9nXG4gICAgfVxuXG4gICAgc3RhcnRTaW11bGF0aW9uKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIiVjIFNpbXVsYXRpb24gc3RhcnQ6IFwiLCBcImNvbG9yOiAjYmFkYTU1XCIpOyAvLyBzaG93IHNpbXVsYXRpb24gc3RhcnQgaW4gdGhlIGJyb3dzZXIgY29uc29sZVxuXG4gICAgICAgIGV2ZW50cy5lbWl0KCdzdGFydC1zaW11bGF0aW9uJyk7IC8vIGVtaXQgYW4gZXZlbnQgdG8gbWFyayB0aGUgc3RhcnQgb2YgdGhlIHNpbXVsYXRpb25cblxuICAgICAgICBpZiAoIXRoaXMucGF1c2VkKSB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXNXLCB0aGlzLmNhbnZhc0gpOyAvLyBjbGVhcnMgdGhlIGNhbnZhcyBpZiB0aGUgYWxnb3JpdGhtIGlzIHJlc3RhcnRlZFxuXG4gICAgICAgIC8vIGRlZmluZXMgdGhlIHdheSBpbiB3aGljaCB0aGUgYWxnb3JpdGhtIHdpbGwgd29yaywgZGVwZW5kaW5nIG9uIHRoZSB2aXN1YWxpc2F0aW9uIHRvZ2dsZVxuICAgICAgICBpZiAodmlzdWFsaXNhdGlvbikge1xuICAgICAgICAgICAgdGltZXIoKTsgLy8gY2hlY2sgaWYgdGltZXIgaGFzIGJlZW4gc3RvcHBlZFxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25JbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwodGhpcy5hbmltYXRlTW92ZXMuYmluZCh0aGlzKSwgMSk7IC8vIHN0YXJ0cyB0aGUgY2FudmFzIGRyYXdpbmcgbG9vcFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXZlbnRzLmVtaXQoJ3NpbXVsYXRpb24td2l0aG91dC12aXN1YWxpc2F0aW9uJyk7IC8vIGVtaXRzIGFuIGV2ZW50IHRvIG1hcmsgdGhlIHN0YXJ0IG9mIHRoZSBhbGdvcml0aG0gd2l0aG91dCB2aXN1YWxpc2F0aW9ucywgdXNlZCB0byBzaG93IHRoZSBsb2FkaW5nIHNjcmVlblxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLm5vQW5pbWF0aW9uTW92ZXMoKSwgNTAwKTsgLy8gc3RhcnQgdGhlIGFsZ29yaXRobSB3aXRoIGEgamF2YXNjcmlwdCBsb29wIGZvciBmYXN0ZXIgcGVyZm9ybWFuY2VcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5vQW5pbWF0aW9uTW92ZXMoKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKTsgLy8gbWFyayB0aGUgc3RhcnRpbmcgdGltZSBvZiB0aGUgYWxnb3JpdGhtXG5cbiAgICAgICAgLy8gc3RhcnQgdGhlIGNvbnN0cnVjdGlvbiBwcm9jZXNzIFxuICAgICAgICBmb3IgKHRoaXMuY3VycmVudEZyYW1lOyB0aGlzLmN1cnJlbnRGcmFtZSA8IGl0ZXJhdGlvbnM7IHRoaXMuY3VycmVudEZyYW1lKyspIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiJWMgSXRlcmF0aW9uOiBcIiwgXCJjb2xvcjogI2JhZGE1NVwiLCB0aGlzLmN1cnJlbnRGcmFtZSk7IC8vIHNob3cgdGhlIGN1cnJlbnQgaXRlcmF0aW9uIGluIHRoZSBicm93c2VyIGNvbnNvbGVcblxuICAgICAgICAgICAgLy8gYW50IG1vdmVtZW50IGZvciBhbGwgYWdlbnRzXG4gICAgICAgICAgICB0aGlzLmFnZW50cy5mb3JFYWNoKGFnZW50ID0+IHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bUFudE1vdjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0Nvb3JkaW5hdGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3QW50XG4gICAgICAgICAgICAgICAgICAgIH0gPSBhZ2VudC5jYWxjdWxhdGVOZXh0U3RlcCgpO1xuICAgICAgICAgICAgICAgICAgICBhZ2VudC5tb3ZlVG8obmV3Q29vcmRpbmF0ZXMsIG5ld0FudCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhZ2VudC5jdXJyZW50Q29vcmRpbmF0ZXMgPT0gdW5kZWZpbmVkKSBjb25zb2xlLmxvZyhcImZhdWx0eVwiLCBhZ2VudCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdBbnQpIGkgPSBudW1BbnRNb3Y7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSBwaGVyb21vbmUgdmFsdWVzIGFmdGVyIGFsbCBhbnRzIGhhdmUgbW92ZWRcbiAgICAgICAgICAgIHBoZXJvbW9uZU1hdHJpeC5mb3JFYWNoKCh2YWwsIHgpID0+IHtcbiAgICAgICAgICAgICAgICB2YWwuZm9yRWFjaCgoYXJyLCB5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGhlcm9tb25lTGV2ZWwodGhpcy5hZ2VudHMsIHgsIHkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coXCIlYyBJdGVyYXRpb246IFwiLCBcImNvbG9yOiAjYmFkYTU1XCIsIHRoaXMuY3VycmVudEZyYW1lKTsgLy8gc2hvdyB0aGUgY3VycmVudCBpdGVyYXRpb24gaW4gdGhlIGJyb3dzZXIgY29uc29sZVxuICAgICAgICBjb25zb2xlLmxvZyhcIiVjIEVORCBPRiBBTEdPUklUSE1cIiwgXCJjb2xvcjogI2M5MjQyNFwiKTsgLy8gaW5kaWNhdGUgdGhlIGVuZCBvZiB0aGUgYWxnb3JpdGhtIGluIHRoZSBjb25zb2xlXG4gICAgICAgIGxvYWRpbmdCYXIoaXRlcmF0aW9ucywgaXRlcmF0aW9ucyk7IC8vIHVwZGF0ZSB0aGUgbGFvZGluZyBiYXIgc3RhdHVzXG4gICAgICAgIGVsYXBzZWRUaW1lKHN0YXJ0LCBEYXRlLm5vdygpKTsgLy8gY2FsY3VsYXRlIHRoZSBlbGFwc2VkIHRpbWVcbiAgICAgICAgdGhpcy5yZXN1bHRzR2FsbGVyeS5jcmVhdGVCaW5hcnlJbWFnZSgpOyAvLyB0cmlnZ2VyIHRoZSBjcmVhdGlvbiBvZiBhIHJlc3VsdCBpbWFnZVxuICAgICAgICBldmVudHMuZW1pdCgnc2ltdWxhdGlvbi1jb21wbGV0ZScpOyAvLyBlbWl0IGFuIGV2ZW50IHRvIG1hcmsgdGhlIGVuZCBvZiB0aGUgc2ltdWxhdGlvbiBvZiB0aGUgYWxnb3JpdGhtXG4gICAgfVxuXG4gICAgYW5pbWF0ZU1vdmVzKCkge1xuICAgICAgICAvLyBzaG93IHZpc3VhbGlzYXRpb25zXG4gICAgICAgIC8vIGFzIGphdmFzY3JpcHQgbG9vcCBvY2N1cGllcyB0aGUgd2hvbGUgZXZlbnQgdGhyZWFkLCBhbmltYXRpb24gb2YgY2FudmFzIGVsZW1lbnRzIGlzIGRvbmUgaW4gYSBmdW5jdGlvbmFsIHByb2dyYW1taW5nIHdheVxuXG4gICAgICAgIGNvbnN0IGFnZW50ID0gdGhpcy5hZ2VudHNbdGhpcy5hZ2VudENvdW50XTsgLy8gZ2V0IHRoZSBjdXJyZW50IGFnZW50IHRvIGRyYXdcbiAgICAgICAgdGhpcy5hbmltYXRpb25Db3VudCsrOyAvLyBuZWNlc3NhcnkgZm9yIHRoZSBpbmNyZW1lbnRhdGlvbiBvZiBkcmF3aW5nIGZyYW1lXG5cbiAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uQ291bnQgPj0gbnVtQW50TW92KSB7XG4gICAgICAgICAgICAvLyBjYXNlIGlmIGFudCBtb3ZlcyBoYXZlIGZpbmlzaGVkXG4gICAgICAgICAgICBsb2FkaW5nQmFyKHRoaXMuYWdlbnRDb3VudCArICgodGhpcy5hZ2VudHMubGVuZ3RoIC0gMSkgKiAodGhpcy5jdXJyZW50RnJhbWUgLSAxKSksICh0aGlzLmFnZW50cy5sZW5ndGggLSAxKSAqIGl0ZXJhdGlvbnMpOyAvLyB1cGRhdGUgdGhlIGxvYWRpbmcgYmFyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbkNvdW50ID0gMDsgLy8gcmVzZXQgdGhlIGFuaW1hdGlvbiBmcmFtZVxuICAgICAgICAgICAgdGhpcy5hZ2VudENvdW50Kys7IC8vIGdvIHRvIG5leHQgYWdlbnRcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hZ2VudENvdW50ID49IHRoaXMuYWdlbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gY2FzZSBpZiB0aGUgYWdlbnRzIGhhdmUgZmluaXNoZWRcblxuICAgICAgICAgICAgLy8gdXBkYXRlIHBoZXJvbW9uZSB2YWx1ZXNcbiAgICAgICAgICAgIHBoZXJvbW9uZU1hdHJpeC5mb3JFYWNoKCh2YWwsIHkpID0+IHtcbiAgICAgICAgICAgICAgICB2YWwuZm9yRWFjaCgoYXJyLCB4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGhlcm9tb25lTGV2ZWwodGhpcy5hZ2VudHMsIHgsIHkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBgcmdiYSgwLCAyNTUsIDAsICR7cGhlcm9tb25lTWF0cml4W3hdW3ldfSlgOyAvLyBzZXQgc3R5bGUgZm9yIGhpZ2ggcGhlcm9tb25lIHZhbHVlcyBhZnRlciBpdGVyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QoXG4gICAgICAgICAgICAgICAgICAgICAgICB5LFxuICAgICAgICAgICAgICAgICAgICAgICAgeCxcbiAgICAgICAgICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAxXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSk7IC8vIGhpZ2ggcGhlcm9tb25lIHZhbHVlcyBpbiBncmVlbiBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudEZyYW1lID49IGl0ZXJhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAvLyBjYXNlIGlmIHRoaXMgd2FzIHRoZSBsYXN0IGl0ZXJhdGlvblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiJWMgRU5EIEFOSU1BVElPTlwiLCBcImNvbG9yOiAjYzkyNDI0XCIpOyAvLyBNYXJrIGVuZCBvZiBhbmltYXRpb24gaW4gdGhlIGNvbnNvbGVcbiAgICAgICAgICAgICAgICBzdG9wVGltZXIoKTsgLy8gc3RvcCBlbGFwc2VkIHRpbWUgdGltZXJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdHNHYWxsZXJ5LmNyZWF0ZUJpbmFyeUltYWdlKCk7IC8vIGFkZCB0aGUgcmVzdWx0IHRvIHRoZSBnYWxsZXJ5XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmFuaW1hdGlvbkludGVydmFsSWQpOyAvLyBzdG9wIHRoZSBhbmltYXRpb24gbG9vcFxuICAgICAgICAgICAgICAgIGV2ZW50cy5lbWl0KCdzaW11bGF0aW9uLWNvbXBsZXRlJyk7IC8vIGVtaXQgYW4gZXZlbnQgbWFya2luZyB0aGUgZW5kIG9mIHRoZSBzaW11bGF0aW9uIG9mIHRoZSBhbGdvcml0aG1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gY2FzZSBpZiB0aGUgY3VycmVudCBpdGVyYXRpb24gaXMgZmluaXNoZWQgYW5kIHRoZXJlIGFyZSBtb3JlIGxlZnRcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRGcmFtZSsrOyAvLyBnbyB0byBuZXh0IGZyYW1lXG4gICAgICAgICAgICAgICAgdGhpcy5hZ2VudENvdW50ID0gMDsgLy8gc3RhcnQgZnJvbSAxc3QgYWdlbnRcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbkNvdW50ID0gMDsgLy8gcmVmcmVzaCBhbmltYXRpb24gZnJhbWVzXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgbmV3Q29vcmRpbmF0ZXMsXG4gICAgICAgICAgICAgICAgbmV3QW50XG4gICAgICAgICAgICB9ID0gYWdlbnQuY2FsY3VsYXRlTmV4dFN0ZXAoKTsgLy8gZ2V0IHRoZSBuZXh0IGFudCBtb3ZlIGluZm9cbiAgICAgICAgICAgIGFnZW50Lm1vdmVUbyhuZXdDb29yZGluYXRlcywgbmV3QW50KTsgLy8gbW92ZSB0aGUgYWdlbnQgdG8gbmV3IGxvY2F0aW9uXG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25Db3VudCAlIDEwID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy9kcmF3IDEwIHBpeGVsIG1vdmVtZW50cyBhdCBvbmNlIGZvciBmYXN0ZXIgdmlzdWFsaXNhdGlvblxuICAgICAgICAgICAgICAgIGlmIChwaGVyb21vbmVNYXRyaXhbYWdlbnQuY3VycmVudENvb3JkaW5hdGVzLnhdW2FnZW50LmN1cnJlbnRDb29yZGluYXRlcy55XSA8PSBpbml0aWFsUGhlcm9tb25lVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gYHJnYmEoNjYsIDMzLCAxMjMsIDI1NSlgOyAvLyBzZXQgc3R5bGUgZm9yIG5vcm1hbCBhbnQgdHJhaWxzXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gYHJnYmEoMjM3LCAwLCAxLCAyNTUpYDsgLy8gc2V0IHN0eWxlIGZvciBoaWdoIHBoZXJvbW9uZSB2YWx1ZXNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFnZW50LnByZXZpb3VzQ29vcmRpbmF0ZXMubGVuZ3RoID4gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZHJhdyAxMCBhbnQgbW92ZW1lbnRzIG9uIGNhbnZhc1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMTsgayA8IDEwOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxSZWN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFnZW50LnByZXZpb3VzQ29vcmRpbmF0ZXNbYWdlbnQucHJldmlvdXNDb29yZGluYXRlcy5sZW5ndGggLSBrXS55LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFnZW50LnByZXZpb3VzQ29vcmRpbmF0ZXNbYWdlbnQucHJldmlvdXNDb29yZGluYXRlcy5sZW5ndGggLSBrXS54LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBkcmF3IGN1cnJlbnQgYW50IHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QoXG4gICAgICAgICAgICAgICAgICAgIGFnZW50LmN1cnJlbnRDb29yZGluYXRlcy55LFxuICAgICAgICAgICAgICAgICAgICBhZ2VudC5jdXJyZW50Q29vcmRpbmF0ZXMueCxcbiAgICAgICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV3QW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25Db3VudCA9IG51bUFudE1vdjsgLy8gY2hlY2tzIGlmIGEgbmV3IGFudCBpcyBnZW5lcmF0ZWQgYW5kIGV4aXRzIGxvb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYWdlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBzaW11bGF0aW9uIGluZm9ybWF0aW9uIHZhbHVlc1xuICAgICAgICAgICAgdGhpcy50ZXh0SXRlci52YWx1ZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuICAgICAgICAgICAgdGhpcy50ZXh0Q3Vyci52YWx1ZSA9IHRoaXMuYWdlbnRDb3VudDtcbiAgICAgICAgICAgIHRoaXMudGV4dE5ldy52YWx1ZSA9IHRoaXMuYW5pbWF0aW9uQ291bnQ7XG4gICAgICAgICAgICB0aGlzLnRleHRYLnZhbHVlID0gYWdlbnQuY3VycmVudENvb3JkaW5hdGVzLng7XG4gICAgICAgICAgICB0aGlzLnRleHRZLnZhbHVlID0gYWdlbnQuY3VycmVudENvb3JkaW5hdGVzLnk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVQaGVyb21vbmVMZXZlbChhZ2VudHMsIHgsIHkpIHtcbiAgICAgICAgLy8gdXBkYXRlIHBoZXJvbW9uZSB2YWx1ZXMgYWNjb3JkaW5nIHRvIGVxdWF0aW9uIHdpdGggZXZhcG9yYXRpb25cbiAgICAgICAgbGV0IHN1bVBoZXJvbW9uZSA9IDA7XG4gICAgICAgIGFnZW50cy5mb3JFYWNoKGFnZW50ID0+IHtcbiAgICAgICAgICAgIGlmIChhZ2VudC5wcmV2aW91c0Nvb3JkaW5hdGVzW3hdICYmIGFnZW50LnByZXZpb3VzQ29vcmRpbmF0ZXNbeV0pIHtcbiAgICAgICAgICAgICAgICBzdW1QaGVyb21vbmUgKz0gKHBoZXJvbW9uZU1hdHJpeFt4XVt5XSA+PSB0Tm9pc2VGaWx0KSA/IHBoZXJvbW9uZU1hdHJpeFt4XVt5XSA6IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBuZXdQaGVyb21vbmVMZXZlbCA9ICgxIC0gcm9QRXZSYXRlKSAqIHBoZXJvbW9uZU1hdHJpeFt4XVt5XSArIHN1bVBoZXJvbW9uZTtcbiAgICAgICAgcGhlcm9tb25lTWF0cml4W3hdW3ldID0gbmV3UGhlcm9tb25lTGV2ZWw7XG4gICAgfVxuXG59XG4iLCIvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVzdWx0cyBnYWxsZXJ5ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc3VsdHNHYWxsZXJ5IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NhbnZhc0ZnJyk7XG4gICAgICAgIHRoaXMuY2FudmFzVyA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICAgICAgdGhpcy5jYW52YXNIID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcbiAgICAgICAgdGhpcy5yZXN1bHREaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJpbmFyeS1jYW52YXMtaG9sZGVyXCIpOyAvLyBzZWxlY3QgdGFyZ2V0IGRpdlxuXG4gICAgICAgIC8vIFNldCBnYWxsZXJ5IGNvbnRyb2xzXG4gICAgICAgIHRoaXMuaW5pdEdhbGxlcnlDb250cm9scygpO1xuICAgIH1cblxuICAgIGluaXRHYWxsZXJ5Q29udHJvbHMoKSB7XG4gICAgICAgIC8vIE92ZXJsYXkgY29udHJvbHNcbiAgICAgICAgdGhpcy5yZXN1bHREaXZPdmVybGF5cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub3ZlcmxheXNcIik7XG4gICAgICAgIHRoaXMubGVmdEFycm93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hcnJvdy5sZWZ0XCIpO1xuICAgICAgICB0aGlzLnJpZ2h0QXJyb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFycm93LnJpZ2h0XCIpO1xuICAgICAgICB0aGlzLml0ZW1Db3VudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaXRlbS1jb3VudFwiKTtcbiAgICAgICAgdGhpcy5wYXJhbURldGFpbHNCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBhcmFtLWRldGFpbHMtYnV0dG9uXCIpO1xuICAgICAgICB0aGlzLnBhcmFtRGV0YWlscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGFyYW0tZGV0YWlsc1wiKTtcblxuICAgICAgICAvL2NyZWF0ZSBjbG9zZSBidXR0b25cbiAgICAgICAgdGhpcy5wYXJhbURldGFpbHNDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICB0aGlzLnBhcmFtRGV0YWlsc0Nsb3NlQnV0dG9uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnY2xvc2UtYnV0dG9uJyk7XG4gICAgICAgIHRoaXMucGFyYW1EZXRhaWxzQ2xvc2VCdXR0b24uaW5uZXJIVE1MID0gJ3gnO1xuXG4gICAgICAgIC8vIGJ1dHRvbiBldmVudCBsaXN0ZW5lcnNcbiAgICAgICAgdGhpcy5sZWZ0QXJyb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnByZXZQYWdlKCkpO1xuICAgICAgICB0aGlzLnJpZ2h0QXJyb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLm5leHRQYWdlKCkpO1xuICAgICAgICB0aGlzLnBhcmFtRGV0YWlsc0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMudG9nZ2xlUGFyYW1zUGFuZWwoJ29wZW4nKSk7XG4gICAgICAgIHRoaXMucGFyYW1EZXRhaWxzQ2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnRvZ2dsZVBhcmFtc1BhbmVsKCdjbG9zZScpKTtcbiAgICB9XG5cbiAgICBjcmVhdGVCaW5hcnlJbWFnZSgpIHtcbiAgICAgICAgLy8gQ3JlYXRlIGEgYmluYXJ5IGltYWdlIGZyb20gcGhlcm9tb25lIG1hdHJpeCBpbmZvcm1hdGlvblxuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5jYW52YXNXLFxuICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5jYW52YXNIO1xuICAgICAgICBsZXQgYnVmZmVyID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHdpZHRoICogaGVpZ2h0ICogNCk7IC8vIHVzZWQgdG8gaG9sZCBjYW52YXMgcGl4ZWwgaW5mb3JtYWl0aW9uIFxuXG4gICAgICAgIGNvbnN0IGJpbmFyeUNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgICAgIGJpbmFyeUNhbnZhcy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImJpbmFyeS1jYW52YXNcIik7XG4gICAgICAgIGJpbmFyeUNhbnZhcy5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCB3aWR0aCk7XG4gICAgICAgIGJpbmFyeUNhbnZhcy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgaGVpZ2h0KTtcbiAgICAgICAgY29uc3QgYmluQ3R4ID0gYmluYXJ5Q2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgICAgICBwaGVyb21vbmVNYXRyaXguZm9yRWFjaCgoYXJyLCB5KSA9PiB7XG4gICAgICAgICAgICBhcnIuZm9yRWFjaCgodmFsdWUsIHgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiB0aGUgcGhlcm9tb25lIGludGVuc2l0eSB2YWx1ZSBpcyBoaWdoZXIgdGhhbiB0aGUgaW5pdGlhbCBwaGVyb21vbmUgdmFsdWUgdG8gZGVmaW5lIGRyYXdpbmcgKGJsYWNrKSBvciBiYWNrZ3JvdW5kIGNvbG91ciAod2hpdGUpXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWVSR0IgPSAodmFsdWUgPiBpbml0aWFsUGhlcm9tb25lVmFsdWUpID8gMCA6IDI1NTtcbiAgICAgICAgICAgICAgICBjb25zdCBwb3MgPSAoeSAqIGhlaWdodCArIHgpICogNDsgLy8gcG9zaXRpb25pbmcgKG11bHRpcGxpZWQgYnkgNCBhcyB0aGVyZSBhcmUgNCB2YWx1ZXMgZm9yIGVhY2ggcGl4ZWwgLSBSR0JBKVxuICAgICAgICAgICAgICAgIGJ1ZmZlcltwb3NdID0gdmFsdWVSR0I7IC8vICBSIHZhbHVlIFxuICAgICAgICAgICAgICAgIGJ1ZmZlcltwb3MgKyAxXSA9IHZhbHVlUkdCOyAvLyAgRyB2YWx1ZVxuICAgICAgICAgICAgICAgIGJ1ZmZlcltwb3MgKyAyXSA9IHZhbHVlUkdCOyAvLyAgQiB2YWx1ZVxuICAgICAgICAgICAgICAgIGJ1ZmZlcltwb3MgKyAzXSA9IDI1NTsgLy8gc2V0IGFscGhhIGNoYW5uZWxcbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gY3JlYXRlIGltYWdlRGF0YSBvYmplY3RcbiAgICAgICAgY29uc3QgaWRhdGEgPSBiaW5DdHguY3JlYXRlSW1hZ2VEYXRhKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIC8vIHNldCBvdXIgYnVmZmVyIGFzIHNvdXJjZVxuICAgICAgICBpZGF0YS5kYXRhLnNldChidWZmZXIpO1xuXG4gICAgICAgIC8vIHVwZGF0ZSBjYW52YXMgd2l0aCBuZXcgZGF0YVxuICAgICAgICBiaW5DdHgucHV0SW1hZ2VEYXRhKGlkYXRhLCAwLCAwKTtcblxuICAgICAgICAvLyBoaWRlIHByZXZpb3VzIGNhbnZhc1xuICAgICAgICBpZiAodGhpcy5yZXN1bHREaXYubGFzdENoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdERpdi5sYXN0Q2hpbGQuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFkZFRvR2FsbGVyeShiaW5hcnlDYW52YXMpOyAvLyBhZGQgdGhlIGJpbmFyeSBpbWFnZSB0byB0aGUgZ2FsbGVyeVxuICAgIH1cblxuICAgIGFkZFRvR2FsbGVyeShiaW5hcnlDYW52YXMpIHtcbiAgICAgICAgaWYgKHRoaXMucmVzdWx0RGl2LmNoaWxkRWxlbWVudENvdW50ID4gMCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaXRlbSBvZiB0aGlzLnJlc3VsdERpdi5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGl0ZW0uc3R5bGUub3BhY2l0eSA9IDA7IC8vIGhpZGUgYWxsIHByZXZpb3VzIGdhbGxlcnkgaW1hZ2VzXG4gICAgICAgICAgICAgICAgaXRlbS5zdHlsZS5oZWlnaHQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vYWRkIGJpbmFyeSBpbWFnZSBjYW52YXMgdG8gdGhlIEhUTUxcbiAgICAgICAgdGhpcy5yZXN1bHREaXYuYXBwZW5kQ2hpbGQoYmluYXJ5Q2FudmFzKTtcblxuICAgICAgICAvLyBzdG9yZSBjYW52YXMgYW5kIGl0cyBwb3NpdGlvbiBwb3NpdGlvbmluZyBpbiB0aGUgZ2xvYmFsIGFycmF5c1xuICAgICAgICBwYWdlcy5wdXNoKHRoaXMucmVzdWx0RGl2Lmxhc3RDaGlsZCk7XG4gICAgICAgIGN1cnJlbnRQYWdlID0gcGFnZXMubGVuZ3RoIC0gMTtcblxuICAgICAgICB0aGlzLnNhdmVQYXJhbXMoKTsgLy8gc2F2ZSBjdXJyZW50IHNpbXVsYXRpb24gcGFyYW1ldGVyc1xuICAgICAgICB0aGlzLnVwZGF0ZVByZXZpZXcoKTsgLy8gdXBkYXRlIHRoZSB2aWV3IG9mIHRoZSBnYWxsZXJ5IGVsZW1lbnRcbiAgICB9XG5cbiAgICBzaG93Q29udHJvbHMoKSB7XG4gICAgICAgIC8vIHNob3cgb3ZlcmxheSBjb250cm9sc1xuICAgICAgICBjb25zdCBjaGlsZENvdW50ID0gdGhpcy5yZXN1bHREaXYuY2hpbGRFbGVtZW50Q291bnQ7XG4gICAgICAgIHRoaXMucmVzdWx0RGl2T3ZlcmxheXMuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIHRoaXMuaXRlbUNvdW50LmlubmVySFRNTCA9IGAke2N1cnJlbnRQYWdlICsgMX0gLyAke2NoaWxkQ291bnR9YDsgLy8gcGFnZSBudW1iZXJzXG5cbiAgICAgICAgLy8gYXJyb3dzIGJlaGF2aW91clxuICAgICAgICBzd2l0Y2ggKGN1cnJlbnRQYWdlKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgLy8gZmlyc3QgaW1hZ2VcbiAgICAgICAgICAgICAgICB0aGlzLnJpZ2h0QXJyb3cuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgICAgICAgICB0aGlzLmxlZnRBcnJvdy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBwYWdlcy5sZW5ndGggLSAxOlxuICAgICAgICAgICAgICAgIC8vIGxhc3QgaW1hZ2VcbiAgICAgICAgICAgICAgICB0aGlzLmxlZnRBcnJvdy5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICAgICAgICAgIHRoaXMucmlnaHRBcnJvdy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAvLyBhbGwgaW1hZ2VzIGluIGJldHdlZW5cbiAgICAgICAgICAgICAgICB0aGlzLmxlZnRBcnJvdy5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICAgICAgICAgIHRoaXMucmlnaHRBcnJvdy5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoaWxkQ291bnQgPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMucmlnaHRBcnJvdy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgdGhpcy5sZWZ0QXJyb3cuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZVByZXZpZXcoKSB7XG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgaW1hZ2UgcHJldmlld1xuICAgICAgICBpZiAocHJldmlvdXNQYWdlID4gLTEpIHtcbiAgICAgICAgICAgIHBhZ2VzW3ByZXZpb3VzUGFnZV0uc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgICAgICBwYWdlc1twcmV2aW91c1BhZ2VdLnN0eWxlLmhlaWdodCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcGFnZXNbY3VycmVudFBhZ2VdLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgICBwYWdlc1tjdXJyZW50UGFnZV0uc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuXG4gICAgICAgIHRoaXMuc2hvd0NvbnRyb2xzKCk7XG4gICAgICAgIHRoaXMubG9hZFBhcmFtcygpOyAvLyBsb2FkIHNhdmVkIHBhcmFtcyBmb3IgaW1hZ2VcbiAgICB9XG5cbiAgICBuZXh0UGFnZSgpIHtcbiAgICAgICAgLy8gZ28gdG8gbmV4dCBwYWdlXG4gICAgICAgIGlmIChjdXJyZW50UGFnZSA8IHBhZ2VzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIHByZXZpb3VzUGFnZSA9IGN1cnJlbnRQYWdlO1xuICAgICAgICAgICAgY3VycmVudFBhZ2UrKztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVByZXZpZXcoKTtcbiAgICB9XG5cbiAgICBwcmV2UGFnZSgpIHtcbiAgICAgICAgLy8gZ28gdG8gcHJldmlvdXMgcGFnZVxuICAgICAgICBpZiAoY3VycmVudFBhZ2UgPiAwKSB7XG4gICAgICAgICAgICBwcmV2aW91c1BhZ2UgPSBjdXJyZW50UGFnZTtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlLS07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVQcmV2aWV3KCk7XG4gICAgfVxuXG4gICAgc2F2ZVBhcmFtcygpIHtcbiAgICAgICAgLy8gc2F2ZSBjdXJyZW50IGltYWdlIHBhcmFtZXRlcnMgXG4gICAgICAgIGNvbnN0IHBhcmFtc1RvU2F2ZSA9IFtdO1xuXG4gICAgICAgIE9iamVjdC52YWx1ZXMoYWxsVUkpLmZvckVhY2goKGVsZW1lbnQsIGkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRPYmogPSB7fTtcbiAgICAgICAgICAgIGVsZW1lbnRPYmoudmFsdWUgPSBlbGVtZW50LnZhbHVlO1xuICAgICAgICAgICAgZWxlbWVudE9iai5pZCA9IGVsZW1lbnQuaWQ7XG4gICAgICAgICAgICBlbGVtZW50T2JqLm5hbWUgPSBlbGVtZW50Lm5hbWU7XG4gICAgICAgICAgICBwYXJhbXNUb1NhdmUucHVzaChlbGVtZW50T2JqKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNhdmVkUGFyYW1zLnB1c2gocGFyYW1zVG9TYXZlKTsgLy8gcHVzaCB0byBnbG9iYWwgYXJyYXlcbiAgICB9XG5cbiAgICBsb2FkUGFyYW1zKCkge1xuICAgICAgICAvLyBsb2FkIGltYWdlIHBhcmFtZXRlcnNcbiAgICAgICAgdGhpcy5wYXJhbURldGFpbHMuaW5uZXJIVE1MID0gJyc7IC8vIGNsZWFyIHByZXZpb3VzIHBhcmFtc1xuXG4gICAgICAgIC8vbG9vcCB0aHJvdWdoIHNhdmVkIHNpbXVsYXRpb24gcGFyYW1ldGVycyBmb3IgdGhlIGltYWdlIGluIHZpZXcgYW5kIGFkZCB0aGVtIHRvIHRoZSBodG1sIGVsZW1lbnRcbiAgICAgICAgc2F2ZWRQYXJhbXNbY3VycmVudFBhZ2VdLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3BhcmFtLWRldGFpbHMtZWxlbWVudCcpO1xuICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGUoJ2lkJywgYCR7ZWxlbWVudC5pZH0tc2F2ZWRgKTtcbiAgICAgICAgICAgIHNwYW4uaW5uZXJIVE1MID0gYCR7ZWxlbWVudC5uYW1lfTogJHtlbGVtZW50LnZhbHVlfWA7XG4gICAgICAgICAgICB0aGlzLnBhcmFtRGV0YWlscy5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucGFyYW1EZXRhaWxzLmFwcGVuZENoaWxkKHRoaXMucGFyYW1EZXRhaWxzQ2xvc2VCdXR0b24pO1xuICAgIH1cblxuICAgIHRvZ2dsZVBhcmFtc1BhbmVsKGFjdGlvbikge1xuICAgICAgICAvLyBvcGVuIHRoZSBwYXJhbWV0ZXJzIG92ZXJsYXkgcGFuZWxcbiAgICAgICAgaWYgKGFjdGlvbiA9PT0gJ29wZW4nKSB7XG4gICAgICAgICAgICAvLyBTaG93IHBhcmFtZXRlcnNcbiAgICAgICAgICAgIHRoaXMucGFyYW1EZXRhaWxzQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB0aGlzLnBhcmFtRGV0YWlscy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEhpZGUgcGFyYW1ldGVyc1xuICAgICAgICAgICAgdGhpcy5wYXJhbURldGFpbHNCdXR0b24uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICB0aGlzLnBhcmFtRGV0YWlscy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYWluIEphdmFTY3JpcHQgZmlsZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSW1wb3J0cyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuaW1wb3J0IGluaXRHbG9iYWxzIGZyb20gJy4vaGVscGVycy9nbG9iYWxzJztcblxuaW5pdEdsb2JhbHMoKTsgLy8gaW5pdGlhbGlzZSBhbGwgZ2xvYmFsIHZhcmlhYmxlc1xuXG5pbXBvcnQgQUNPIGZyb20gJy4vY29tcG9uZW50cy9hY28vYWNvLWFsZ29yaXRobSc7IC8vIGFjbyBhbGdvcml0aG0gZmlsZVxuaW1wb3J0IEVudmlyb25tZW50SW1hZ2UgZnJvbSAnLi9jb21wb25lbnRzL2Vudmlyb25tZW50LWltYWdlL2Vudmlyb25tZW50LWltYWdlJzsgLy8gaW1hZ2UgZW52aXJvbm1lbnQgZmlsZVxuaW1wb3J0IHtcbiAgICBsb2FkaW5nQmFyXG59IGZyb20gJy4vaGVscGVycy9leHRyYXMnO1xuaW1wb3J0IFJlc3VsdHNHYWxsZXJ5IGZyb20gJy4vY29tcG9uZW50cy9yZXN1bHRzLWdhbGxlcnkvcmVzdWx0cy1nYWxsZXJ5JzsgLy8gcmVzdWx0cyBnYWxsZXJ5XG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5jb25zdCByZXN1bHRzR2FsbGVyeSA9IG5ldyBSZXN1bHRzR2FsbGVyeSgpOyAvLyBpbml0aWFsaXNlIHJlc3VsdHMgZ2FsbGVyeSBjbGFzc1xuXG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSFRNTCBlbGVtZW50cyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcbmNvbnN0IHVwbG9hZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ltYWdlLXVwbG9hZCcpO1xuY29uc3QgaW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW1hZ2Utc291cmNlJyk7XG5jb25zdCBpbWFnZVByZXZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW1hZ2UtcHJldmlldycpO1xuY29uc3QgY2FudmFzQmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2FudmFzQmcnKTtcbmNvbnN0IGRyYXdJbWFnZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkcmF3LWltYWdlLWJ1dHRvbicpO1xuY29uc3Qgc3RhcnRTaW11bGF0aW9uQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N0YXJ0LXNpbXVsYXRpb24nKTtcbmNvbnN0IHNldERlZmF1bHRzQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RlZmF1bHRzLWJ1dHRvbicpO1xuY29uc3QgbG9hZGluZ1B1bHNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnB1bHNlJyk7XG5jb25zdCBzeXNJbmZvUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3lzLWluZm8tcGFuZWwnKTtcbmNvbnN0IHNpbVNldHRpbmdzUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2ltLXNldHRpbmdzLXBhbmVsJyk7XG5jb25zdCBsZWdlbmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGVnZW5kJyk7XG5jb25zdCBwcm9jZXNzUGFyYW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2Nlc3MtcGFyYW1zPmlucHV0Jyk7XG5jb25zdCBlbGFwc2VkVGltZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlbGFwc2VkLXRpbWUnKTtcbmNvbnN0IHBlcmZvcm1hbmNlRGlzY2xhaW1lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wZXJmb3JtYW5jZS1kaXNjbGFpbWVyJyk7XG5jb25zdCBwdXNoQmFja1NjcmVlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wdXNoLWJhY2stc2NyZWVuJyk7XG5jb25zdCBkb3dubG9hZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kb3dubG9hZC1idXR0b24nKTtcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWYXJpYWJsZXMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxubGV0IGVudkltYWdlO1xubGV0IGFsZ29yaXRobTtcbmxldCB1cGxvYWRlZFlldCA9IGZhbHNlO1xubGV0IGlucHV0c0NoYW5nZWQgPSBmYWxzZTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBCdXR0b24gdGV4dCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuY29uc3QgZHJhd0ltYWdlQnV0dG9uRGVmYXVsdFRleHQgPSAnVXBsb2FkJztcbmNvbnN0IGRyYXdJbWFnZUJ1dHRvbkFjdGl2ZVRleHQgPSAnUmVzZXQnO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbml0aWFsIHNldHRpbmdzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbi8vIENhbnZhcyBkaW1lbnNpb25zXG5jYW52YXNXaWR0aCA9IGNhbnZhc0JnLndpZHRoO1xuY2FudmFzSGVpZ2h0ID0gY2FudmFzQmcuY2xpZW50SGVpZ2h0O1xuXG4vLyBEaXNhYmxlIGluaXRpYWwgc3RhdGUgb2YgZHluYW1pYyBlbGVtZW50c1xudG9nZ2xlVmlzRWxlbS5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG5kaXNhYmxlSW5wdXRzKHRydWUpO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWFpbiBidXR0b25zIGJlaGF2aW91ciAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLSBJbWFnZSB1cGxvYWRlciBpbnB1dCBiZWhhdmlvdXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbnVwbG9hZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IGZpbGUgPSB0aGlzLmZpbGVzWzBdO1xuICAgIC8vIENoZWNrIGlmIGEgZmlsZSBpcyB1cGxvYWRlZFxuICAgIGlmICh0aGlzLmZpbGVzICYmIHRoaXMuZmlsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICByZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW1hZ2Uuc2V0QXR0cmlidXRlKCdzcmMnLCB0aGlzLnJlc3VsdCk7XG4gICAgICAgICAgICBpbWFnZVByZXZpZXcuc2V0QXR0cmlidXRlKCdzcmMnLCB0aGlzLnJlc3VsdCk7XG4gICAgICAgIH0pXG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpXG4gICAgICAgIGlmICh1cGxvYWRlZFlldCkge1xuICAgICAgICAgICAgZXZlbnRzLmVtaXQoJ3JldmVydC1pbml0aWFsLXN0YXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZHJhd0ltYWdlQnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgICAgZHJhd0ltYWdlQnV0dG9uLmlubmVySFRNTCA9IGRyYXdJbWFnZUJ1dHRvbkRlZmF1bHRUZXh0O1xuICAgICAgICB1cGxvYWRlZFlldCA9IHRydWU7XG4gICAgfVxufSk7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gVXBsb2FkL3Jlc2V0IGJ1dHRvbiBiZWhhdmlvdXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbmRyYXdJbWFnZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBkcmF3SW1hZ2VCdXR0b24uYmx1cigpOyAvLyByZW1vdmUgZm9jdXNcbiAgICBpZiAoZHJhd0ltYWdlQnV0dG9uLmlubmVySFRNTCA9PT0gZHJhd0ltYWdlQnV0dG9uQWN0aXZlVGV4dCkge1xuICAgICAgICBldmVudHMuZW1pdCgncmVzZXQnKTtcbiAgICB9IGVsc2UgaWYgKGltYWdlKSB7XG4gICAgICAgIGVudkltYWdlID0gbmV3IEVudmlyb25tZW50SW1hZ2UoaW1hZ2UsIGNhbnZhc0JnKTsgLy8gaW5pdGlhbGlzZSB0aGUgaW1hZ2UgZW52aXJvbm1lbnQgcGFzc2luZyB0aGUgdXBsb2FkZWQgaW1hZ2VcbiAgICAgICAgYWxnb3JpdGhtID0gbmV3IEFDTyhlbnZJbWFnZSwgcmVzdWx0c0dhbGxlcnkpOyAvLyBpbml0aWFsaXNlIHRoZSBhbGdvcml0aG0gKGluaXRpYWxpc2UgaXRzIHBhcmFtcyBvbmx5KVxuICAgICAgICBhbGdvcml0aG0ucmVzZXQoKTsgLy8gcmVzZXQgdGhlIGFsZ29yaXRobSB0byBkZWZhdWx0c1xuICAgICAgICBzdGFydFNpbXVsYXRpb25CdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICBkcmF3SW1hZ2VCdXR0b24uaW5uZXJIVE1MID0gKGRyYXdJbWFnZUJ1dHRvbkFjdGl2ZVRleHQpO1xuICAgICAgICB0b2dnbGVWaXNFbGVtLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgICAgZXZlbnRzLmVtaXQoJ2RyYXduLWltYWdlJyk7IC8vIHNlbmQgYW4gZXZlbnQgdGhhdCB0aGUgaW1hZ2UgaXMgZHJhd24gb24gdGhlIGNhbnZhc1xuICAgIH1cbn0pO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHRyYWNrIHVzZXIgaW5wdXQgY2hhbmdlcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5jb25zdCB1c2VySW5wdXRFdmVudEhhbmRsZXIgPSAoKSA9PiB7XG4gICAgLy8gYWN0aW9ucyBmb3Igd2hlbiBhIHVzZXIgaW5wdXRzIG5ldyBkYXRhXG4gICAgc3RhcnRTaW11bGF0aW9uQnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICBhbGdvcml0aG0ucmVzZXQoKTtcbiAgICBpbnB1dHNDaGFuZ2VkID0gdHJ1ZTtcbiAgICB0b2dnbGVEZWZhdWxzQnV0dG9uKCk7XG59XG5cbk9iamVjdC52YWx1ZXMoYWxsVUkpLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAvLyBldmVudCBsaXN0ZW5lcnMgZm9yIGNoYW5nZSBvbiB2YWx1ZSBhbHRlcmF0aW9uXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKGUpID0+IHtcbiAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlID09PSAnJykgZS50YXJnZXQudmFsdWUgPSBlLnRhcmdldC5wbGFjZWhvbGRlcjtcbiAgICAgICAgYWxnb3JpdGhtLnJlc2V0KCk7XG4gICAgICAgIHRvZ2dsZURlZmF1bHNCdXR0b24oKTtcbiAgICB9KTtcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdXNlcklucHV0RXZlbnRIYW5kbGVyKTtcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Byb3BlcnR5Y2hhbmdlJywgdXNlcklucHV0RXZlbnRIYW5kbGVyKTsgLy8gZm9yIEZpcmVmb3gvRWRnZSBhbmQgSUU5XG59KTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0gc3RhcnQgc2ltdWxhdGlvbiBidXR0b24gYmVoYXZpb3VyIC0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuc3RhcnRTaW11bGF0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHN0YXJ0U2ltdWxhdGlvbkJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgYWxnb3JpdGhtLnVwZGF0ZUdsb2JhbFBhcmFtcygpOyAvLyBzZXQgZ2xvYmFsIHBhcmFtZXRlcnMgYmFzZWQgb24gdXNlciBpbnB1dFxuICAgIGFsZ29yaXRobS5zdGFydFNpbXVsYXRpb24oKTtcbn0pO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHJlc2V0IHVzZXIgaW5wdXRzIHRvIGRlZmF1bHQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5zZXREZWZhdWx0c0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBzdGFydFNpbXVsYXRpb25CdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIGFsZ29yaXRobS5zZXREZWZhdWx0VmFsdWVzKCk7XG4gICAgYWxnb3JpdGhtLnJlc2V0KCk7XG4gICAgaW5wdXRzQ2hhbmdlZCA9IGZhbHNlO1xuICAgIHRvZ2dsZURlZmF1bHNCdXR0b24oKTtcbn0pO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tIGNvbnRyb2wgcGF1c2UgYnV0dG9uIGZ1bmN0aW9ubGFpdHkgLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5sb2FkaW5nUHVsc2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgLy8gcGF1c2Ugc2ltdWxhdGlvblxuICAgIGV2ZW50cy5lbWl0KCdzdG9wLXNpbXVsYXRpb24nKTtcbn0pO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGRvd25sb2FkIGJ1dHRvbiBmdW5jdGlvbmFsaXR5IC0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5kb3dubG9hZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zdCBjdXJyZW50Q2FudmFzID0gcGFnZXNbY3VycmVudFBhZ2VdXG4gICAgY29uc3QgZGF0YVVSTCA9IGN1cnJlbnRDYW52YXMudG9EYXRhVVJMKCdpbWFnZS9wbmcnKTtcbiAgICBkb3dubG9hZEJ1dHRvbi5kb3dubG9hZCA9ICdvdXRsaW5lLnBuZyc7XG4gICAgZG93bmxvYWRCdXR0b24uaHJlZiA9IGRhdGFVUkw7XG59KTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvZ3JhbSBzdGF0ZXMgY29udHJvbHMgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4vLyBFdmVudCBsaXN0ZW5lcnMgdG8gdHJpZ2dlciBjaGFuZ2VzIGFjY29yZGluZyB0byB0aGUgcHJvZ3JhbSBzdGF0ZSAvL1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFB1dCBzeXN0ZW0gaW50byBpbnRpYWwgc3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5ldmVudHMub24oJ3JldmVydC1pbml0aWFsLXN0YXRlJywgKCkgPT4ge1xuICAgIGV2ZW50cy5lbWl0KCdzdG9wLXNpbXVsYXRpb24nKTtcbiAgICBkaXNhYmxlQnV0dG9ucygpO1xuICAgIHJlc2V0SW5mb1N0YXRzKCk7XG4gICAgcmVzZXRJbnB1dHMoKTtcbiAgICBhbGdvcml0aG0ucmVzZXQoKTtcbn0pO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tIFN0YXRlIG9mIHRoZSBwcm9ncmFtIGF0IHNpbXVsYXRpb24gc3RhcnQgLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5ldmVudHMub24oJ3N0YXJ0LXNpbXVsYXRpb24nLCAoKSA9PiB7XG4gICAgLy9saW1pdCBpbnRlcmFjdGl2aXR5IGR1cmluZyBzaW11bGF0aW9uIGV4ZWN1dGlvblxuICAgIGRyYXdJbWFnZUJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJylcbiAgICBzZXREZWZhdWx0c0J1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG5cbiAgICAvLyBzaG93IHB1bHNpbmcgYnV0dG9uXG4gICAgc3RhcnRTaW11bGF0aW9uQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgbG9hZGluZ1B1bHNlLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgc3lzSW5mb1BhbmVsLnNldEF0dHJpYnV0ZSgnb3BlbicsICdvcGVuJyk7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSAnd2FpdCc7XG4gICAgbGVnZW5kLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIGRpc2FibGVJbnB1dHMoJ3RydWUnKTtcbn0pO1xuXG4vKiAtLS0tLS0tLS0tLSBTaG93IGxvYWRpbmcgc2NyZWVuIHdoZW4gdmlzdWFsaXNhdGlvbiBpcyBkaXNhYmxlZCAtLS0tLS0tLS0tLSAqL1xuXG5ldmVudHMub24oJ3NpbXVsYXRpb24td2l0aG91dC12aXN1YWxpc2F0aW9uJywgKCkgPT4ge1xuICAgIHB1c2hCYWNrU2NyZWVuLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICBsZWdlbmQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbn0pO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tIFN0YXRlIG9mIHRoZSBwcm9ncmFtIGF0IHNpbXVsYXRpb24gcGF1c2UgLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5ldmVudHMub24oJ3N0b3Atc2ltdWxhdGlvbicsICgpID0+IHtcbiAgICBzdGFydFNpbXVsYXRpb25CdXR0b24uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgc3RhcnRTaW11bGF0aW9uQnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICBsb2FkaW5nUHVsc2Uuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9ICdhdXRvJztcblxuICAgIGFsZ29yaXRobS5zdG9wKCk7XG59KTtcblxuLyogLS0tLS0tLS0tLS0tLS0tIFN0YXRlIG9mIHRoZSBwcm9ncmFtIGF0IHNpbXVsYXRpb24gY29tcGxldGUgLS0tLS0tLS0tLS0tLS0gKi9cblxuZXZlbnRzLm9uKCdzaW11bGF0aW9uLWNvbXBsZXRlJywgKCkgPT4ge1xuICAgIC8vIGluaXRpYWwgc3RhdGUgb2YgYnV0dG9uc1xuICAgIGxvYWRpbmdQdWxzZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIHN0YXJ0U2ltdWxhdGlvbkJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICBzdGFydFNpbXVsYXRpb25CdXR0b24uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgIGRyYXdJbWFnZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FjdGl2ZScsICdhY3RpdmUnKTtcblxuICAgIC8vIHJldHVybiB0byBtYWluIHNjcmVlbiBmcm9tIGxvYWRpbmdcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9ICdhdXRvJztcbiAgICBwdXNoQmFja1NjcmVlbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG5cbiAgICAvLyBlbmFibGUgdXNlciBpbnB1dHNcbiAgICBkaXNhYmxlSW5wdXRzKGZhbHNlKTtcbiAgICB0b2dnbGVEZWZhdWxzQnV0dG9uKCk7XG59KTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBQcm9ncmFtIHN0YXRlIG9uIGltYWdlIHVwbG9hZCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuZXZlbnRzLm9uKCdkcmF3bi1pbWFnZScsICgpID0+IHtcbiAgICBkcmF3SW1hZ2VCdXR0b24uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpXG4gICAgc2ltU2V0dGluZ3NQYW5lbC5zZXRBdHRyaWJ1dGUoJ29wZW4nLCAnb3BlbicpO1xuXG4gICAgZGlzYWJsZUlucHV0cyhmYWxzZSk7XG59KTtcblxuLyogLS0tLS0tLS0tLS0tLS0gUHJvZ3JhbSBzdGF0ZSBvbiB2aXN1YWxpc2F0aW9uIHRvZ2dsZSBjaGFuZ2UgLS0tLS0tLS0tLS0tLS0gKi9cblxuZXZlbnRzLm9uKCd2aXN1YWxpc2F0aW9uLXRvZ2dsZWQnLCAoYW5pbWF0ZSkgPT4ge1xuICAgIHBlcmZvcm1hbmNlRGlzY2xhaW1lci5zdHlsZS5kaXNwbGF5ID0gKCFhbmltYXRlKSA/ICdibG9jaycgOiAnbm9uZSc7IC8vIHNob3cgaGlkZSB2aXN1YWxpc2F0aW9uIGRpc2NsYW1lclxuICAgIHJlc2V0KCk7XG59KTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFJlc2V0IHByb2dyYW0gc3RhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuZXZlbnRzLm9uKCdyZXNldCcsICgpID0+IHtcbiAgICByZXNldCgnZnVsbCcpO1xufSk7XG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRnVuY3Rpb25zICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbmZ1bmN0aW9uIGRpc2FibGVJbnB1dHMoZGlzYWJsZWQpIHtcbiAgICBmb3IgKGxldCBpdGVtIG9mIGFsbFVJKSB7XG4gICAgICAgIGlmIChkaXNhYmxlZCkgaXRlbS5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgIGVsc2UgaXRlbS5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZXNldChmdWxsID0gbnVsbCkge1xuICAgIC8vIHJlc2V0IHByb2dyYW0gc3RhdGUgKHJldmVydCB0byBpbml0aWFsIHN0YXRlKVxuICAgIGV2ZW50cy5lbWl0KCdzdG9wLXNpbXVsYXRpb24nKTtcbiAgICByZXNldEluZm9TdGF0cygpO1xuICAgIGlmIChmdWxsKSB7XG4gICAgICAgIHJlc2V0SW5wdXRzKCk7XG4gICAgICAgIGFsZ29yaXRobS5zZXREZWZhdWx0VmFsdWVzKCk7XG4gICAgICAgIGxlZ2VuZC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB0b2dnbGVEZWZhdWxzQnV0dG9uKCk7XG4gICAgfVxuICAgIGFsZ29yaXRobS5yZXNldCgpO1xuICAgIHRvZ2dsZVZpc0VsZW0ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIGV2ZW50cy5lbWl0KCdkcmF3bi1pbWFnZScpO1xufVxuXG5mdW5jdGlvbiByZXNldElucHV0cygpIHtcbiAgICAvLyByZXNldCBpbnB1dCB2YWx1ZXNcbiAgICBmb3IgKGxldCBpdGVtIG9mIGFsbFVJKSB7XG4gICAgICAgIGl0ZW0udmFsdWUgPSAwO1xuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICB9XG4gICAgaW5wdXRzQ2hhbmdlZCA9IGZhbHNlXG4gICAgdG9nZ2xlRGVmYXVsc0J1dHRvbigpO1xufVxuXG5mdW5jdGlvbiB0b2dnbGVEZWZhdWxzQnV0dG9uKCkge1xuICAgIC8vIGNoYW5nZSB1c2VyIGlucHV0IHBhcmFtZXRlcnMgdG8gdGhlaXIgZGVmYXVsdCB2YWx1ZXNcbiAgICBpZiAoaW5wdXRzQ2hhbmdlZCkgc2V0RGVmYXVsdHNCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIGVsc2Ugc2V0RGVmYXVsdHNCdXR0b24uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xufVxuXG5mdW5jdGlvbiByZXNldEluZm9TdGF0cygpIHtcbiAgICAvLyByZXNldCBzaW11bGF0aW9uIGluZm9ybWF0aW9uIHZhbHVlc1xuICAgIGZvciAobGV0IGl0ZW0gb2YgcHJvY2Vzc1BhcmFtcykge1xuICAgICAgICBpdGVtLnZhbHVlID0gMDtcbiAgICB9XG4gICAgbG9hZGluZ0JhcigwLCAxMDApO1xuICAgIGVsYXBzZWRUaW1lLnZhbHVlID0gJzBtIDBzJztcbiAgICBsZWdlbmQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbn1cblxuZnVuY3Rpb24gZGlzYWJsZUJ1dHRvbnMoKSB7XG4gICAgLy8gZGlzYWJsZSBtYWluIGNvbnRyb2xzIGJ1dHRvbnNcbiAgICBkcmF3SW1hZ2VCdXR0b24uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpXG4gICAgc3RhcnRTaW11bGF0aW9uQnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICB0b2dnbGVWaXNFbGVtLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7\n")}]);